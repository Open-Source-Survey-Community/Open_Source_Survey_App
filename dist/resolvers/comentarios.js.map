{"version":3,"sources":["../../resolvers/comentarios.js"],"names":["Query","verComentario","parent","args","models","Comentario","findById","idComentario","populate","then","comentario","catch","error","Error","Mutation","crearComentarioAnexadaAPregunta","count","existenComentariosCreados","identificador","objetoComentario","save","Pregunta","findByIdAndUpdate","idPregunta","$push","comentarios","comentarioGuardado","new","crearComentarioAnexadaADiscusionPregunta","discusionPregunta","idDiscusionPregunta","crearSubComentarioAnexadaAComentario","listaSubComentarios","editarComentario","registroComentario","creador_comentario","idUsuario","$set","contenido","fecha_actualizacion","Date","comentarioActualizado","colocarLikesComentario","findOne","votacion","like","dislike","findOneAndUpdate","colocarDisLikesComentario","colocarFavoritosComentario","favoritos"],"mappings":";;;;;kBAAe;;AAEdA,QAAM;AACLC,iBAAe,uBAACC,MAAD,EAASC,IAAT,QAA0B;AAAA,OAAVC,MAAU,QAAVA,MAAU;;AACxC,UAAOA,OAAOC,UAAP,CAAkBC,QAAlB,CAA2BH,KAAKI,YAAhC,EACLC,QADK,CACI,oBADJ,EAELA,QAFK,CAEI,qBAFJ,EAGLA,QAHK,CAGI,0BAHJ,EAILC,IAJK,CAIA,sBAAc;AACnB,WAAOC,UAAP;AACA,IANK,EAMHC,KANG,CAMG,iBAAQ;AAChB,QAAIC,KAAJ,EAAU;AACT,WAAM,IAAIC,KAAJ,CAAUD,KAAV,CAAN;AACA;AACD,IAVK,CAAP;AAWA;AAbI,EAFQ;AAiBdE,WAAS;AACRC,mCAAiC,yCAACb,MAAD,EAASC,IAAT,SAA0B;AAAA,OAAVC,MAAU,SAAVA,MAAU;;AAC1D,UAAOA,OAAOC,UAAP,CAAkBW,KAAlB,GACLP,IADK,CACA,qCAA6B;AAClC,QAAIQ,yBAAJ,EAA8B;AAC7Bd,UAAKO,UAAL,CAAgBQ,aAAhB,GAAgCD,4BAA4B,CAA5D;AACA;AACD,QAAME,mBAAmB,IAAIf,OAAOC,UAAX,CAAsBF,KAAKO,UAA3B,CAAzB;AACA,WAAOS,iBAAiBC,IAAjB,GACLX,IADK,CACA,8BAAsB;AAC3B,YAAOL,OAAOiB,QAAP,CAAgBC,iBAAhB,CAAkCnB,KAAKoB,UAAvC,EAAkD;AACxDC,aAAM,EAACC,aAAYC,kBAAb;AADkD,MAAlD,EAEL,EAACC,KAAI,IAAL,EAFK,EAGLlB,IAHK,CAGA,YAAM;AACX,aAAOL,OAAOC,UAAP,CAAkBG,QAAlB,CAA2BkB,kBAA3B,EAA8C,oBAA9C,CAAP;AACA,MALK,EAKHf,KALG,CAKG,iBAAS;AACjB,YAAM,IAAIE,KAAJ,CAAUD,KAAV,CAAN;AACA,MAPK,CAAP;AAQA,KAVK,EAUHD,KAVG,CAUG,iBAAS;AACjB,SAAIC,KAAJ,EAAU;AACT,YAAM,IAAIC,KAAJ,CAAUD,KAAV,CAAN;AACA;AACD,KAdK,CAAP;AAeA,IArBK,EAqBHD,KArBG,CAqBG,iBAAS;AACjB,UAAM,IAAIE,KAAJ,CAAUD,KAAV,CAAN;AACA,IAvBK,CAAP;AAwBA,GA1BO;AA2BRgB,4CAA0C,kDAAC1B,MAAD,EAASC,IAAT,SAA0B;AAAA,OAAVC,MAAU,SAAVA,MAAU;;AACnE,UAAOA,OAAOC,UAAP,CAAkBW,KAAlB,GACLP,IADK,CACA,qCAA6B;AAClC,QAAIQ,yBAAJ,EAA8B;AAC7Bd,UAAKO,UAAL,CAAgBQ,aAAhB,GAAgCD,4BAA4B,CAA5D;AACA;AACD,QAAME,mBAAmB,IAAIf,OAAOC,UAAX,CAAsBF,KAAKO,UAA3B,CAAzB;AACA,WAAOS,iBAAiBC,IAAjB,GACLX,IADK,CACA,8BAAsB;AAC3B,YAAOL,OAAOyB,iBAAP,CAAyBP,iBAAzB,CAA2CnB,KAAK2B,mBAAhD,EAAoE;AAC1EN,aAAM,EAACC,aAAYC,kBAAb;AADoE,MAApE,EAEL,EAACC,KAAI,IAAL,EAFK,EAGLlB,IAHK,CAGA,YAAM;AACX,aAAOL,OAAOC,UAAP,CAAkBG,QAAlB,CAA2BkB,kBAA3B,EAA8C,oBAA9C,CAAP;AACA,MALK,EAKHf,KALG,CAKG,iBAAS;AACjB,YAAM,IAAIE,KAAJ,CAAUD,KAAV,CAAN;AACA,MAPK,CAAP;AAQA,KAVK,EAUHD,KAVG,CAUG,iBAAS;AACjB,SAAIC,KAAJ,EAAU;AACT,YAAM,IAAIC,KAAJ,CAAUD,KAAV,CAAN;AACA;AACD,KAdK,CAAP;AAeA,IArBK,EAqBHD,KArBG,CAqBG,iBAAS;AACjB,UAAM,IAAIE,KAAJ,CAAUD,KAAV,CAAN;AACA,IAvBK,CAAP;AAwBA,GApDO;AAqDRmB,wCAAsC,8CAAC7B,MAAD,EAASC,IAAT,SAA0B;AAAA,OAAVC,MAAU,SAAVA,MAAU;;AAC/D,UAAOA,OAAOC,UAAP,CAAkBW,KAAlB,GACLP,IADK,CACA,qCAA6B;AAClC,QAAIQ,yBAAJ,EAA8B;AAC7Bd,UAAKO,UAAL,CAAgBQ,aAAhB,GAAgCD,4BAA4B,CAA5D;AACA;AACD,QAAME,mBAAmB,IAAIf,OAAOC,UAAX,CAAsBF,KAAKO,UAA3B,CAAzB;AACA,WAAOS,iBAAiBC,IAAjB,GACLX,IADK,CACA,8BAAsB;AAC3B,YAAOL,OAAOC,UAAP,CAAkBiB,iBAAlB,CAAoCnB,KAAKI,YAAzC,EAAsD;AAC5DiB,aAAM,EAACQ,qBAAoBN,kBAArB;AADsD,MAAtD,EAEL,EAACC,KAAI,IAAL,EAFK,EAGLlB,IAHK,CAGA,YAAM;AACX,aAAOL,OAAOC,UAAP,CAAkBG,QAAlB,CAA2BkB,kBAA3B,EAA8C,oBAA9C,CAAP;AACA,MALK,EAKHf,KALG,CAKG,iBAAS;AACjB,YAAM,IAAIE,KAAJ,CAAUD,KAAV,CAAN;AACA,MAPK,CAAP;AAQA,KAVK,EAUHD,KAVG,CAUG,iBAAS;AACjB,SAAIC,KAAJ,EAAU;AACT,YAAM,IAAIC,KAAJ,CAAUD,KAAV,CAAN;AACA;AACD,KAdK,CAAP;AAeA,IArBK,EAqBHD,KArBG,CAqBG,iBAAS;AACjB,UAAM,IAAIE,KAAJ,CAAUD,KAAV,CAAN;AACA,IAvBK,CAAP;AAwBA,GA9EO;AA+ERqB,oBAAkB,0BAAC/B,MAAD,EAASC,IAAT,SAA4B;AAAA,OAAZC,MAAY,SAAZA,MAAY;;AAC7C,UAAOA,OAAOC,UAAP,CAAkBC,QAAlB,CAA2BH,KAAKI,YAAhC,EACLE,IADK,CACA,8BAAsB;AAC3B,QAAIyB,mBAAmBC,kBAAnB,IAAyChC,KAAKiC,SAAlD,EAA4D;AAC3D,YAAOhC,OAAOC,UAAP,CAAkBiB,iBAAlB,CAAoCnB,KAAKI,YAAzC,EACN,EAAC8B,MAAK,EAACC,WAAWnC,KAAKmC,SAAjB,EAA2BC,qBAAqB,IAAIC,IAAJ,EAAhD,EAAN,EADM,EAEN,EAACb,KAAK,IAAN,EAFM,EAGLnB,QAHK,CAGI,oBAHJ,EAILC,IAJK,CAIA,iCAAuB;AAC5B,aAAOgC,qBAAP;AACA,MANK,EAMH9B,KANG,CAMG,iBAAS;AACjB,YAAM,IAAIE,KAAJ,CAAUD,KAAV,CAAN;AACA,MARK,CAAP;AASA,KAVD,MAUK;AACJ,WAAM,IAAIC,KAAJ,CAAU,2CAAV,CAAN;AACA;AACD,IAfK,EAeHF,KAfG,CAeG,iBAAS;AACjB,QAAIC,KAAJ,EAAU;AACT,WAAM,IAAIC,KAAJ,CAAUD,KAAV,CAAN;AACA;AACD,IAnBK,CAAP;AAqBA,GArGO;AAsGR8B,0BAAwB,gCAACxC,MAAD,EAASC,IAAT,SAA0B;AAAA,OAAVC,MAAU,SAAVA,MAAU;;AACjD,UAAOA,OAAOC,UAAP,CAAkBsC,OAAlB,CAA0B,EAAC,OAAOxC,KAAKI,YAAb,EAA2B,4BAA4BJ,KAAKiC,SAA5D,EAA1B,EAAiG,EAAC,cAAa,CAAd,EAAjG,EACL3B,IADK,CACA,sBAAc;AACnB,QAAGC,UAAH,EAAc;AACb,SAAGA,WAAWkC,QAAX,CAAoB,CAApB,EAAuBC,IAAvB,KAAgC,CAAhC,IAAqCnC,WAAWkC,QAAX,CAAoB,CAApB,EAAuBE,OAAvB,KAAmC,CAA3E,EAA6E;AAC5E,aAAO1C,OAAOC,UAAP,CAAkB0C,gBAAlB,CAAmC,EAAC,OAAM5C,KAAKI,YAAZ,EAAyB,4BAA4BJ,KAAKiC,SAA1D,EAAnC,EAAwG;AAC9GC,aAAK,EAAC,8BAA8BlC,KAAKiC,SAApC,EAA+C,mBAAkB,CAAjE;AADyG,OAAxG,EAEL,EAACT,KAAK,IAAN,EAFK,EAGLlB,IAHK,CAGA,YAAM;AACX,cAAO,EAACoC,MAAK,CAAC,CAAP,EAAUC,SAAQ,CAAlB,EAAP;AACA,OALK,EAKHnC,KALG,CAKG,iBAAS;AACjB,WAAGC,KAAH,EAAS;AACR,cAAM,IAAIC,KAAJ,CAAUD,KAAV,CAAN;AACA;AACD,OATK,CAAP;AAWA,MAZD,MAYM,IAAGF,WAAWkC,QAAX,CAAoB,CAApB,EAAuBC,IAAvB,KAAgC,CAAhC,IAAqCnC,WAAWkC,QAAX,CAAoB,CAApB,EAAuBE,OAAvB,KAAmC,CAA3E,EAA6E;AAClF,aAAO1C,OAAOC,UAAP,CAAkB0C,gBAAlB,CAAmC,EAAC,OAAM5C,KAAKI,YAAZ,EAAyB,4BAA4BJ,KAAKiC,SAA1D,EAAnC,EAAwG;AAC9GC,aAAK,EAAC,8BAA8BlC,KAAKiC,SAApC,EAA+C,mBAAkB,CAAjE,EAAmE,sBAAqB,CAAxF;AADyG,OAAxG,EAEL,EAACT,KAAK,IAAN,EAFK,EAGLlB,IAHK,CAGA,YAAM;AACX,cAAO,EAACoC,MAAK,CAAN,EAASC,SAAQ,CAAC,CAAlB,EAAP;AACA,OALK,EAKHnC,KALG,CAKG,iBAAS;AACjB,WAAGC,KAAH,EAAS;AACR,cAAM,IAAIC,KAAJ,CAAUD,KAAV,CAAN;AACA;AACD,OATK,CAAP;AAUA,MAXK,MAWA,IAAGF,WAAWkC,QAAX,CAAoB,CAApB,EAAuBC,IAAvB,KAAgC,CAAhC,IAAqCnC,WAAWkC,QAAX,CAAoB,CAApB,EAAuBE,OAAvB,KAAmC,CAA3E,EAA6E;AAClF,aAAO1C,OAAOC,UAAP,CAAkB0C,gBAAlB,CAAmC,EAAC,OAAM5C,KAAKI,YAAZ,EAAyB,4BAA4BJ,KAAKiC,SAA1D,EAAnC,EAAwG;AAC9GC,aAAK,EAAC,8BAA8BlC,KAAKiC,SAApC,EAA+C,mBAAkB,CAAjE;AADyG,OAAxG,EAEL,EAACT,KAAK,IAAN,EAFK,EAGLlB,IAHK,CAGA,YAAM;AACX,cAAO,EAACoC,MAAK,CAAN,EAASC,SAAQ,CAAjB,EAAP;AACA,OALK,EAKHnC,KALG,CAKG,iBAAS;AACjB,WAAGC,KAAH,EAAS;AACR,cAAM,IAAIC,KAAJ,CAAUD,KAAV,CAAN;AACA;AACD,OATK,CAAP;AAUA;AAED,KArCD,MAqCK;AACJ,YAAOR,OAAOC,UAAP,CAAkBiB,iBAAlB,CAAoCnB,KAAKI,YAAzC,EACN,EAACiB,OAAM,EAAC,YAAW,EAAC,mBAAmBrB,KAAKiC,SAAzB,EAAoC,QAAO,CAA3C,EAA8C,WAAU,CAAxD,EAA2D,aAAY,CAAvE,EAAZ;AAAP,MADM,EAEJ,EAACT,KAAK,IAAN,EAFI,EAGLlB,IAHK,CAGA,YAAM;AACX,aAAO,EAACoC,MAAK,CAAN,EAASC,SAAQ,CAAjB,EAAP;AACA,MALK,EAKHnC,KALG,CAKG,iBAAS;AACjB,UAAGC,KAAH,EAAS;AACR,aAAM,IAAIC,KAAJ,CAAUD,KAAV,CAAN;AACA;AACD,MATK,CAAP;AAUA;AACD,IAnDK,EAmDHD,KAnDG,CAmDG,iBAAS;AACjB,QAAIC,KAAJ,EAAU;AACT,WAAM,IAAIC,KAAJ,CAAUD,KAAV,CAAN;AACA;AACD,IAvDK,CAAP;AAwDA,GA/JO;AAgKRoC,6BAA2B,mCAAC9C,MAAD,EAASC,IAAT,SAA0B;AAAA,OAAVC,MAAU,SAAVA,MAAU;;AACpD,UAAOA,OAAOC,UAAP,CAAkBsC,OAAlB,CAA0B,EAAC,OAAOxC,KAAKI,YAAb,EAA2B,4BAA4BJ,KAAKiC,SAA5D,EAA1B,EAAiG,EAAC,cAAa,CAAd,EAAjG,EACL3B,IADK,CACA,sBAAc;AACnB,QAAGC,UAAH,EAAc;AACb,SAAGA,WAAWkC,QAAX,CAAoB,CAApB,EAAuBC,IAAvB,KAAgC,CAAhC,IAAqCnC,WAAWkC,QAAX,CAAoB,CAApB,EAAuBE,OAAvB,KAAmC,CAA3E,EAA6E;AAC5E,aAAO1C,OAAOC,UAAP,CAAkB0C,gBAAlB,CAAmC,EAAC,OAAM5C,KAAKI,YAAZ,EAAyB,4BAA4BJ,KAAKiC,SAA1D,EAAnC,EAAwG;AAC9GC,aAAK,EAAC,8BAA8BlC,KAAKiC,SAApC,EAA+C,sBAAqB,CAApE;AADyG,OAAxG,EAEL,EAACT,KAAK,IAAN,EAFK,EAGLlB,IAHK,CAGA,YAAM;AACX,cAAO,EAACoC,MAAK,CAAN,EAASC,SAAQ,CAAC,CAAlB,EAAP;AACA,OALK,EAKHnC,KALG,CAKG,iBAAS;AACjB,WAAGC,KAAH,EAAS;AACR,cAAM,IAAIC,KAAJ,CAAUD,KAAV,CAAN;AACA;AACD,OATK,CAAP;AAWA,MAZD,MAYM,IAAGF,WAAWkC,QAAX,CAAoB,CAApB,EAAuBC,IAAvB,KAAgC,CAAhC,IAAqCnC,WAAWkC,QAAX,CAAoB,CAApB,EAAuBE,OAAvB,KAAmC,CAA3E,EAA6E;AAClF,aAAO1C,OAAOC,UAAP,CAAkB0C,gBAAlB,CAAmC,EAAC,OAAM5C,KAAKI,YAAZ,EAAyB,4BAA4BJ,KAAKiC,SAA1D,EAAnC,EAAwG;AAC9GC,aAAK,EAAC,8BAA8BlC,KAAKiC,SAApC,EAA+C,mBAAkB,CAAjE,EAAmE,sBAAqB,CAAxF;AADyG,OAAxG,EAEL,EAACT,KAAK,IAAN,EAFK,EAGLlB,IAHK,CAGA,YAAM;AACX,cAAO,EAACoC,MAAK,CAAC,CAAP,EAAUC,SAAQ,CAAlB,EAAP;AACA,OALK,EAKHnC,KALG,CAKG,iBAAS;AACjB,WAAGC,KAAH,EAAS;AACR,cAAM,IAAIC,KAAJ,CAAUD,KAAV,CAAN;AACA;AACD,OATK,CAAP;AAUA,MAXK,MAWA,IAAGF,WAAWkC,QAAX,CAAoB,CAApB,EAAuBC,IAAvB,KAAgC,CAAhC,IAAqCnC,WAAWkC,QAAX,CAAoB,CAApB,EAAuBE,OAAvB,KAAmC,CAA3E,EAA6E;AAClF,aAAO1C,OAAOC,UAAP,CAAkB0C,gBAAlB,CAAmC,EAAC,OAAM5C,KAAKI,YAAZ,EAAyB,4BAA4BJ,KAAKiC,SAA1D,EAAnC,EAAwG;AAC9GC,aAAK,EAAC,8BAA8BlC,KAAKiC,SAApC,EAA+C,sBAAqB,CAApE;AADyG,OAAxG,EAEL,EAACT,KAAK,IAAN,EAFK,EAGLlB,IAHK,CAGA,YAAM;AACX,cAAO,EAACoC,MAAK,CAAN,EAASC,SAAQ,CAAjB,EAAP;AACA,OALK,EAKHnC,KALG,CAKG,iBAAS;AACjB,WAAGC,KAAH,EAAS;AACR,cAAM,IAAIC,KAAJ,CAAUD,KAAV,CAAN;AACA;AACD,OATK,CAAP;AAUA;AAED,KArCD,MAqCK;AACJ,YAAOR,OAAOC,UAAP,CAAkBiB,iBAAlB,CAAoCnB,KAAKI,YAAzC,EACN,EAACiB,OAAM,EAAC,YAAW,EAAC,mBAAmBrB,KAAKiC,SAAzB,EAAoC,QAAO,CAA3C,EAA8C,WAAU,CAAxD,EAA2D,aAAY,CAAvE,EAAZ;AAAP,MADM,EAEJ,EAACT,KAAK,IAAN,EAFI,EAGLlB,IAHK,CAGA,YAAM;AACX,aAAO,EAACoC,MAAK,CAAN,EAASC,SAAQ,CAAjB,EAAP;AACA,MALK,EAKHnC,KALG,CAKG,iBAAS;AACjB,UAAGC,KAAH,EAAS;AACR,aAAM,IAAIC,KAAJ,CAAUD,KAAV,CAAN;AACA;AACD,MATK,CAAP;AAUA;AACD,IAnDK,EAmDHD,KAnDG,CAmDG,iBAAS;AACjB,QAAIC,KAAJ,EAAU;AACT,WAAM,IAAIC,KAAJ,CAAUD,KAAV,CAAN;AACA;AACD,IAvDK,CAAP;AAwDA,GAzNO;AA0NRqC,8BAA4B,oCAAC/C,MAAD,EAASC,IAAT,SAA0B;AAAA,OAAVC,MAAU,SAAVA,MAAU;;AACrD,UAAOA,OAAOC,UAAP,CAAkBsC,OAAlB,CAA0B,EAAC,OAAOxC,KAAKI,YAAb,EAA2B,4BAA4BJ,KAAKiC,SAA5D,EAA1B,EAAiG,EAAC,cAAa,CAAd,EAAjG,EACL3B,IADK,CACA,sBAAc;AACnB,QAAGC,UAAH,EAAc;AACb,SAAGA,WAAWkC,QAAX,CAAoB,CAApB,EAAuBM,SAAvB,KAAqC,CAAxC,EAA0C;AACzC,aAAO9C,OAAOC,UAAP,CAAkB0C,gBAAlB,CAAmC,EAAC,OAAM5C,KAAKI,YAAZ,EAAyB,4BAA4BJ,KAAKiC,SAA1D,EAAnC,EAAwG;AAC9GC,aAAK,EAAC,8BAA8BlC,KAAKiC,SAApC,EAA+C,wBAAuB,CAAtE;AADyG,OAAxG,EAEL,EAACT,KAAK,IAAN,EAFK,EAGLlB,IAHK,CAGA,YAAM;AACX,cAAO,CAAP;AACA,OALK,EAKHE,KALG,CAKG,iBAAS;AACjB,WAAGC,KAAH,EAAS;AACR,cAAM,IAAIC,KAAJ,CAAUD,KAAV,CAAN;AACA;AACD,OATK,CAAP;AAWA,MAZD,MAYM,IAAGF,WAAWkC,QAAX,CAAoB,CAApB,EAAuBM,SAAvB,KAAqC,CAAxC,EAA0C;AAC/C,aAAO9C,OAAOC,UAAP,CAAkB0C,gBAAlB,CAAmC,EAAC,OAAM5C,KAAKI,YAAZ,EAAyB,4BAA4BJ,KAAKiC,SAA1D,EAAnC,EAAwG;AAC9GC,aAAK,EAAC,8BAA8BlC,KAAKiC,SAApC,EAA+C,wBAAuB,CAAtE;AADyG,OAAxG,EAEL,EAACT,KAAK,IAAN,EAFK,EAGLlB,IAHK,CAGA,YAAM;AACX,cAAO,CAAP;AACA,OALK,EAKHE,KALG,CAKG,iBAAS;AACjB,WAAGC,KAAH,EAAS;AACR,cAAM,IAAIC,KAAJ,CAAUD,KAAV,CAAN;AACA;AACD,OATK,CAAP;AAUA;AAED,KA1BD,MA0BK;AACJ,YAAOR,OAAOC,UAAP,CAAkBiB,iBAAlB,CAAoCnB,KAAKI,YAAzC,EACN,EAACiB,OAAM,EAAC,YAAW,EAAC,mBAAmBrB,KAAKiC,SAAzB,EAAoC,QAAO,CAA3C,EAA8C,WAAU,CAAxD,EAA2D,aAAY,CAAvE,EAAZ;AAAP,MADM,EAEJ,EAACT,KAAK,IAAN,EAFI,EAGLnB,QAHK,CAGI,0BAHJ,EAILC,IAJK,CAIA,YAAM;AACX,aAAO,CAAP;AACA,MANK,EAMHE,KANG,CAMG,iBAAS;AACjB,UAAGC,KAAH,EAAS;AACR,aAAM,IAAIC,KAAJ,CAAUD,KAAV,CAAN;AACA;AACD,MAVK,CAAP;AAWA;AACD,IAzCK,EAyCHD,KAzCG,CAyCG,iBAAS;AACjB,QAAIC,KAAJ,EAAU;AACT,WAAM,IAAIC,KAAJ,CAAUD,KAAV,CAAN;AACA;AACD,IA7CK,CAAP;AA8CA;AAzQO;AAjBK,C","file":"comentarios.js","sourcesContent":["export default {\n\n\tQuery:{\n\t\tverComentario: (parent, args, {models})=>{\n\t\t\treturn models.Comentario.findById(args.idComentario)\n\t\t\t\t.populate(\"creador_comentario\")\n\t\t\t\t.populate(\"listaSubComentarios\")\n\t\t\t\t.populate(\"votacion.usuario_creador\")\n\t\t\t\t.then(comentario => {\n\t\t\t\t\treturn comentario;\n\t\t\t\t}).catch(error =>{\n\t\t\t\t\tif (error){\n\t\t\t\t\t\tthrow new Error(error);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t},\n\tMutation:{\n\t\tcrearComentarioAnexadaAPregunta: (parent, args, {models})=>{\n\t\t\treturn models.Comentario.count()\n\t\t\t\t.then(existenComentariosCreados => {\n\t\t\t\t\tif (existenComentariosCreados){\n\t\t\t\t\t\targs.comentario.identificador = existenComentariosCreados + 1;\n\t\t\t\t\t}\n\t\t\t\t\tconst objetoComentario = new models.Comentario(args.comentario);\n\t\t\t\t\treturn objetoComentario.save()\n\t\t\t\t\t\t.then(comentarioGuardado => {\n\t\t\t\t\t\t\treturn models.Pregunta.findByIdAndUpdate(args.idPregunta,{\n\t\t\t\t\t\t\t\t$push:{comentarios:comentarioGuardado}\n\t\t\t\t\t\t\t},{new:true})\n\t\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\t\treturn models.Comentario.populate(comentarioGuardado,\"creador_comentario\");\n\t\t\t\t\t\t\t\t}).catch(error => {\n\t\t\t\t\t\t\t\t\tthrow new Error(error);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}).catch(error => {\n\t\t\t\t\t\t\tif (error){\n\t\t\t\t\t\t\t\tthrow new Error(error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t}).catch(error => {\n\t\t\t\t\tthrow new Error(error);\n\t\t\t\t});\n\t\t},\n\t\tcrearComentarioAnexadaADiscusionPregunta: (parent, args, {models})=>{\n\t\t\treturn models.Comentario.count()\n\t\t\t\t.then(existenComentariosCreados => {\n\t\t\t\t\tif (existenComentariosCreados){\n\t\t\t\t\t\targs.comentario.identificador = existenComentariosCreados + 1;\n\t\t\t\t\t}\n\t\t\t\t\tconst objetoComentario = new models.Comentario(args.comentario);\n\t\t\t\t\treturn objetoComentario.save()\n\t\t\t\t\t\t.then(comentarioGuardado => {\n\t\t\t\t\t\t\treturn models.discusionPregunta.findByIdAndUpdate(args.idDiscusionPregunta,{\n\t\t\t\t\t\t\t\t$push:{comentarios:comentarioGuardado}\n\t\t\t\t\t\t\t},{new:true})\n\t\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\t\treturn models.Comentario.populate(comentarioGuardado,\"creador_comentario\");\n\t\t\t\t\t\t\t\t}).catch(error => {\n\t\t\t\t\t\t\t\t\tthrow new Error(error);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}).catch(error => {\n\t\t\t\t\t\t\tif (error){\n\t\t\t\t\t\t\t\tthrow new Error(error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t}).catch(error => {\n\t\t\t\t\tthrow new Error(error);\n\t\t\t\t});\n\t\t},\n\t\tcrearSubComentarioAnexadaAComentario: (parent, args, {models})=>{\n\t\t\treturn models.Comentario.count()\n\t\t\t\t.then(existenComentariosCreados => {\n\t\t\t\t\tif (existenComentariosCreados){\n\t\t\t\t\t\targs.comentario.identificador = existenComentariosCreados + 1;\n\t\t\t\t\t}\n\t\t\t\t\tconst objetoComentario = new models.Comentario(args.comentario);\n\t\t\t\t\treturn objetoComentario.save()\n\t\t\t\t\t\t.then(comentarioGuardado => {\n\t\t\t\t\t\t\treturn models.Comentario.findByIdAndUpdate(args.idComentario,{\n\t\t\t\t\t\t\t\t$push:{listaSubComentarios:comentarioGuardado}\n\t\t\t\t\t\t\t},{new:true})\n\t\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\t\treturn models.Comentario.populate(comentarioGuardado,\"creador_comentario\");\n\t\t\t\t\t\t\t\t}).catch(error => {\n\t\t\t\t\t\t\t\t\tthrow new Error(error);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}).catch(error => {\n\t\t\t\t\t\t\tif (error){\n\t\t\t\t\t\t\t\tthrow new Error(error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t}).catch(error => {\n\t\t\t\t\tthrow new Error(error);\n\t\t\t\t});\n\t\t},\n\t\teditarComentario: (parent, args, {models}) => {\n\t\t\treturn models.Comentario.findById(args.idComentario)\n\t\t\t\t.then(registroComentario => {\n\t\t\t\t\tif (registroComentario.creador_comentario == args.idUsuario){\n\t\t\t\t\t\treturn models.Comentario.findByIdAndUpdate(args.idComentario,\n\t\t\t\t\t\t\t{$set:{contenido: args.contenido,fecha_actualizacion: new Date}},\n\t\t\t\t\t\t\t{new: true})\n\t\t\t\t\t\t\t.populate(\"creador_comentario\")\n\t\t\t\t\t\t\t.then(comentarioActualizado=>{\n\t\t\t\t\t\t\t\treturn comentarioActualizado;\n\t\t\t\t\t\t\t}).catch(error => {\n\t\t\t\t\t\t\t\tthrow new Error(error);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthrow new Error(\"this users is not the owner this question\");\n\t\t\t\t\t}\n\t\t\t\t}).catch(error => {\n\t\t\t\t\tif (error){\n\t\t\t\t\t\tthrow new Error(error);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t},\n\t\tcolocarLikesComentario: (parent, args, {models})=>{\n\t\t\treturn models.Comentario.findOne({\"_id\": args.idComentario, \"votacion.usuario_creador\": args.idUsuario},{\"votacion.$\":1})\n\t\t\t\t.then(comentario => {\n\t\t\t\t\tif(comentario){\n\t\t\t\t\t\tif(comentario.votacion[0].like === 1 && comentario.votacion[0].dislike === 0){\n\t\t\t\t\t\t\treturn models.Comentario.findOneAndUpdate({\"_id\":args.idComentario,\"votacion.usuario_creador\": args.idUsuario},{\n\t\t\t\t\t\t\t\t$set:{\"votacion.$.usuario_creador\": args.idUsuario, \"votacion.$.like\":0}\n\t\t\t\t\t\t\t},{new: true})\n\t\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\t\treturn {like:-1, dislike:0};\n\t\t\t\t\t\t\t\t}).catch(error => {\n\t\t\t\t\t\t\t\t\tif(error){\n\t\t\t\t\t\t\t\t\t\tthrow new Error(error);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t}else if(comentario.votacion[0].like === 0 && comentario.votacion[0].dislike === 1){\n\t\t\t\t\t\t\treturn models.Comentario.findOneAndUpdate({\"_id\":args.idComentario,\"votacion.usuario_creador\": args.idUsuario},{\n\t\t\t\t\t\t\t\t$set:{\"votacion.$.usuario_creador\": args.idUsuario, \"votacion.$.like\":1,\"votacion.$.dislike\":0}\n\t\t\t\t\t\t\t},{new: true})\n\t\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\t\treturn {like:1, dislike:-1};\n\t\t\t\t\t\t\t\t}).catch(error => {\n\t\t\t\t\t\t\t\t\tif(error){\n\t\t\t\t\t\t\t\t\t\tthrow new Error(error);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}else if(comentario.votacion[0].like === 0 && comentario.votacion[0].dislike === 0){\n\t\t\t\t\t\t\treturn models.Comentario.findOneAndUpdate({\"_id\":args.idComentario,\"votacion.usuario_creador\": args.idUsuario},{\n\t\t\t\t\t\t\t\t$set:{\"votacion.$.usuario_creador\": args.idUsuario, \"votacion.$.like\":1}\n\t\t\t\t\t\t\t},{new: true})\n\t\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\t\treturn {like:1, dislike:0};\n\t\t\t\t\t\t\t\t}).catch(error => {\n\t\t\t\t\t\t\t\t\tif(error){\n\t\t\t\t\t\t\t\t\t\tthrow new Error(error);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}else{\n\t\t\t\t\t\treturn models.Comentario.findByIdAndUpdate(args.idComentario,\n\t\t\t\t\t\t\t{$push:{\"votacion\":{\"usuario_creador\": args.idUsuario, \"like\":1, \"dislike\":0, \"favoritos\":0}}\n\t\t\t\t\t\t\t},{new: true})\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\treturn {like:1, dislike:0};\n\t\t\t\t\t\t\t}).catch(error => {\n\t\t\t\t\t\t\t\tif(error){\n\t\t\t\t\t\t\t\t\tthrow new Error(error);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}).catch(error => {\n\t\t\t\t\tif (error){\n\t\t\t\t\t\tthrow new Error(error);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\t\tcolocarDisLikesComentario: (parent, args, {models})=>{\n\t\t\treturn models.Comentario.findOne({\"_id\": args.idComentario, \"votacion.usuario_creador\": args.idUsuario},{\"votacion.$\":1})\n\t\t\t\t.then(comentario => {\n\t\t\t\t\tif(comentario){\n\t\t\t\t\t\tif(comentario.votacion[0].like === 0 && comentario.votacion[0].dislike === 1){\n\t\t\t\t\t\t\treturn models.Comentario.findOneAndUpdate({\"_id\":args.idComentario,\"votacion.usuario_creador\": args.idUsuario},{\n\t\t\t\t\t\t\t\t$set:{\"votacion.$.usuario_creador\": args.idUsuario, \"votacion.$.dislike\":0}\n\t\t\t\t\t\t\t},{new: true})\n\t\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\t\treturn {like:0, dislike:-1};\n\t\t\t\t\t\t\t\t}).catch(error => {\n\t\t\t\t\t\t\t\t\tif(error){\n\t\t\t\t\t\t\t\t\t\tthrow new Error(error);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t}else if(comentario.votacion[0].like === 1 && comentario.votacion[0].dislike === 0){\n\t\t\t\t\t\t\treturn models.Comentario.findOneAndUpdate({\"_id\":args.idComentario,\"votacion.usuario_creador\": args.idUsuario},{\n\t\t\t\t\t\t\t\t$set:{\"votacion.$.usuario_creador\": args.idUsuario, \"votacion.$.like\":0,\"votacion.$.dislike\":1}\n\t\t\t\t\t\t\t},{new: true})\n\t\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\t\treturn {like:-1, dislike:1};\n\t\t\t\t\t\t\t\t}).catch(error => {\n\t\t\t\t\t\t\t\t\tif(error){\n\t\t\t\t\t\t\t\t\t\tthrow new Error(error);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}else if(comentario.votacion[0].like === 0 && comentario.votacion[0].dislike === 0){\n\t\t\t\t\t\t\treturn models.Comentario.findOneAndUpdate({\"_id\":args.idComentario,\"votacion.usuario_creador\": args.idUsuario},{\n\t\t\t\t\t\t\t\t$set:{\"votacion.$.usuario_creador\": args.idUsuario, \"votacion.$.dislike\":1}\n\t\t\t\t\t\t\t},{new: true})\n\t\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\t\treturn {like:0, dislike:1};\n\t\t\t\t\t\t\t\t}).catch(error => {\n\t\t\t\t\t\t\t\t\tif(error){\n\t\t\t\t\t\t\t\t\t\tthrow new Error(error);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}else{\n\t\t\t\t\t\treturn models.Comentario.findByIdAndUpdate(args.idComentario,\n\t\t\t\t\t\t\t{$push:{\"votacion\":{\"usuario_creador\": args.idUsuario, \"like\":0, \"dislike\":1, \"favoritos\":0}}\n\t\t\t\t\t\t\t},{new: true})\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\treturn {like:0, dislike:1};\n\t\t\t\t\t\t\t}).catch(error => {\n\t\t\t\t\t\t\t\tif(error){\n\t\t\t\t\t\t\t\t\tthrow new Error(error);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}).catch(error => {\n\t\t\t\t\tif (error){\n\t\t\t\t\t\tthrow new Error(error);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\t\tcolocarFavoritosComentario: (parent, args, {models})=>{\n\t\t\treturn models.Comentario.findOne({\"_id\": args.idComentario, \"votacion.usuario_creador\": args.idUsuario},{\"votacion.$\":1})\n\t\t\t\t.then(comentario => {\n\t\t\t\t\tif(comentario){\n\t\t\t\t\t\tif(comentario.votacion[0].favoritos === 1){\n\t\t\t\t\t\t\treturn models.Comentario.findOneAndUpdate({\"_id\":args.idComentario,\"votacion.usuario_creador\": args.idUsuario},{\n\t\t\t\t\t\t\t\t$set:{\"votacion.$.usuario_creador\": args.idUsuario, \"votacion.$.favoritos\":0}\n\t\t\t\t\t\t\t},{new: true})\n\t\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t\t}).catch(error => {\n\t\t\t\t\t\t\t\t\tif(error){\n\t\t\t\t\t\t\t\t\t\tthrow new Error(error);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t}else if(comentario.votacion[0].favoritos === 0){\n\t\t\t\t\t\t\treturn models.Comentario.findOneAndUpdate({\"_id\":args.idComentario,\"votacion.usuario_creador\": args.idUsuario},{\n\t\t\t\t\t\t\t\t$set:{\"votacion.$.usuario_creador\": args.idUsuario, \"votacion.$.favoritos\":1}\n\t\t\t\t\t\t\t},{new: true})\n\t\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t\t\t}).catch(error => {\n\t\t\t\t\t\t\t\t\tif(error){\n\t\t\t\t\t\t\t\t\t\tthrow new Error(error);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}else{\n\t\t\t\t\t\treturn models.Comentario.findByIdAndUpdate(args.idComentario,\n\t\t\t\t\t\t\t{$push:{\"votacion\":{\"usuario_creador\": args.idUsuario, \"like\":0, \"dislike\":0, \"favoritos\":1}}\n\t\t\t\t\t\t\t},{new: true})\n\t\t\t\t\t\t\t.populate(\"votacion.usuario_creador\")\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t\t}).catch(error => {\n\t\t\t\t\t\t\t\tif(error){\n\t\t\t\t\t\t\t\t\tthrow new Error(error);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}).catch(error => {\n\t\t\t\t\tif (error){\n\t\t\t\t\t\tthrow new Error(error);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t}\n};"]}