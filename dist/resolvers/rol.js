"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.default = {
	Query: {
		verRolUsuario: function verRolUsuario(parent, args, _ref) {
			var models = _ref.models;

			return models.User.findById(args.id).then(function (usuario) {
				var rol = {
					_id: usuario._id,
					rol: usuario.roles[0].rol,
					Acciones: usuario.roles[0].Acciones
				};
				return rol;
			}).catch(function (error) {
				return error;
			});
		}

	},
	Mutation: {
		editarRolUsuario: function editarRolUsuario(parent, args, _ref2) {
			var models = _ref2.models;

			return models.User.findByIdAndUpdate(args.id, { $set: { "roles.0.rol": args.rol, "roles.0.Acciones": args.acciones } }, { upsert: true, new: true }).then(function (usuario) {
				return usuario.roles;
			}).catch(function (error) {
				if (error) {
					return error;
				}
			});
		}
	}
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3Jlc29sdmVycy9yb2wuanMiXSwibmFtZXMiOlsiUXVlcnkiLCJ2ZXJSb2xVc3VhcmlvIiwicGFyZW50IiwiYXJncyIsIm1vZGVscyIsIlVzZXIiLCJmaW5kQnlJZCIsImlkIiwidGhlbiIsInJvbCIsIl9pZCIsInVzdWFyaW8iLCJyb2xlcyIsIkFjY2lvbmVzIiwiY2F0Y2giLCJlcnJvciIsIk11dGF0aW9uIiwiZWRpdGFyUm9sVXN1YXJpbyIsImZpbmRCeUlkQW5kVXBkYXRlIiwiJHNldCIsImFjY2lvbmVzIiwidXBzZXJ0IiwibmV3Il0sIm1hcHBpbmdzIjoiOzs7OztrQkFBZTtBQUNkQSxRQUFNO0FBQ0xDLGlCQUFlLHVCQUFDQyxNQUFELEVBQVNDLElBQVQsUUFBMEI7QUFBQSxPQUFWQyxNQUFVLFFBQVZBLE1BQVU7O0FBQ3hDLFVBQU9BLE9BQU9DLElBQVAsQ0FBWUMsUUFBWixDQUFxQkgsS0FBS0ksRUFBMUIsRUFDTEMsSUFESyxDQUNBLG1CQUFTO0FBQ2QsUUFBTUMsTUFBSztBQUNWQyxVQUFLQyxRQUFRRCxHQURIO0FBRVZELFVBQUtFLFFBQVFDLEtBQVIsQ0FBYyxDQUFkLEVBQWlCSCxHQUZaO0FBR1ZJLGVBQVVGLFFBQVFDLEtBQVIsQ0FBYyxDQUFkLEVBQWlCQztBQUhqQixLQUFYO0FBS0EsV0FBT0osR0FBUDtBQUNBLElBUkssRUFTTEssS0FUSyxDQVNDLGlCQUFTO0FBQ2YsV0FBT0MsS0FBUDtBQUNBLElBWEssQ0FBUDtBQWFBOztBQWZJLEVBRFE7QUFtQmRDLFdBQVM7QUFDUkMsb0JBQWtCLDBCQUFDZixNQUFELEVBQVNDLElBQVQsU0FBMEI7QUFBQSxPQUFWQyxNQUFVLFNBQVZBLE1BQVU7O0FBQzNDLFVBQU9BLE9BQU9DLElBQVAsQ0FBWWEsaUJBQVosQ0FBOEJmLEtBQUtJLEVBQW5DLEVBQXVDLEVBQUNZLE1BQUssRUFBQyxlQUFlaEIsS0FBS00sR0FBckIsRUFBMEIsb0JBQW9CTixLQUFLaUIsUUFBbkQsRUFBTixFQUF2QyxFQUNOLEVBQUNDLFFBQVEsSUFBVCxFQUFlQyxLQUFLLElBQXBCLEVBRE0sRUFFTGQsSUFGSyxDQUVBLG1CQUFXO0FBQ2hCLFdBQU9HLFFBQVFDLEtBQWY7QUFDQSxJQUpLLEVBS0xFLEtBTEssQ0FLQyxpQkFBUztBQUNmLFFBQUlDLEtBQUosRUFBVTtBQUNULFlBQU9BLEtBQVA7QUFDQTtBQUNELElBVEssQ0FBUDtBQVVBO0FBWk87QUFuQkssQyIsImZpbGUiOiJyb2wuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG5cdFF1ZXJ5Ontcblx0XHR2ZXJSb2xVc3VhcmlvOiAocGFyZW50LCBhcmdzLCB7bW9kZWxzfSk9Pntcblx0XHRcdHJldHVybiBtb2RlbHMuVXNlci5maW5kQnlJZChhcmdzLmlkKVxuXHRcdFx0XHQudGhlbih1c3VhcmlvPT57XG5cdFx0XHRcdFx0Y29uc3Qgcm9sID17XG5cdFx0XHRcdFx0XHRfaWQ6IHVzdWFyaW8uX2lkLFxuXHRcdFx0XHRcdFx0cm9sOiB1c3VhcmlvLnJvbGVzWzBdLnJvbCxcblx0XHRcdFx0XHRcdEFjY2lvbmVzOiB1c3VhcmlvLnJvbGVzWzBdLkFjY2lvbmVzXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRyZXR1cm4gcm9sO1xuXHRcdFx0XHR9KVxuXHRcdFx0XHQuY2F0Y2goZXJyb3IgPT4ge1xuXHRcdFx0XHRcdHJldHVybiBlcnJvcjtcblx0XHRcdFx0fSk7XG5cblx0XHR9XG5cblx0fSxcblx0TXV0YXRpb246e1xuXHRcdGVkaXRhclJvbFVzdWFyaW86IChwYXJlbnQsIGFyZ3MsIHttb2RlbHN9KT0+e1xuXHRcdFx0cmV0dXJuIG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kVXBkYXRlKGFyZ3MuaWQsIHskc2V0OntcInJvbGVzLjAucm9sXCI6IGFyZ3Mucm9sLCBcInJvbGVzLjAuQWNjaW9uZXNcIjogYXJncy5hY2Npb25lc319LFxuXHRcdFx0XHR7dXBzZXJ0OiB0cnVlLCBuZXc6IHRydWV9KVxuXHRcdFx0XHQudGhlbih1c3VhcmlvID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gdXN1YXJpby5yb2xlcztcblx0XHRcdFx0fSlcblx0XHRcdFx0LmNhdGNoKGVycm9yID0+IHtcblx0XHRcdFx0XHRpZiAoZXJyb3Ipe1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVycm9yO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0fVxuXHR9XG59OyJdfQ==