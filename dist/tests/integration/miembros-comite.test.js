"use strict";

/* eslint-disable no-undef,quotes */

var tester = require("graphql-tester").tester;

describe("Acciones del modereador(miembros del comite) hacia la correccion de una pregunta", function () {
	var self = this;
	self.test = tester({
		url: "http://127.0.0.1:3660/graphtest",
		contentType: "application/json"
	});
	it("Deberia poder ver la lista de las discusiones que se han creado o editado referente a una pregunta", function (done) {
		self.test(JSON.stringify({
			query: "query loadListaCorreccionesByPreguntasCreadasEditadas($idPregunta: String, $usuario: String, $limit: Int){\n\t\t\t\t\t\t\tloadListaCorreccionesByPreguntasCreadasEditadas(idPregunta: $idPregunta, usuario: $usuario, limit: $limit){\n\t\t\t\t\t\t\t \t\t\t\t\ttitulo\n\t\t\t\t\t\t\t \t\t\t\t\tdescripcion\t\n\t\t\t\t\t\t\t \t\t\t\t}\t\t\t\t\n\t\t\t\t\t\t}",
			variables: {
				idPregunta: "5acde1c58cdf5a5284349714",
				usuario: "5ac248c98a3f74223f16895e",
				limit: 10
			}
		})).then(function (response) {
			expect(response.status).toBe(200);
			expect(response.success).toBe(true);
			expect(response.data.loadListaCorreccionesByPreguntasCreadasEditadas.length).toBe(5);
			done();
		});
	});
	it("Deberia poder ver la lista de preguntas que he sido designado", function (done) {
		self.test(JSON.stringify({
			query: "query cargarListaPreguntasAsignadasRevisor($idUsuario: String){\n\t\t\t\t\t\t\tcargarListaPreguntasAsignadasRevisor(idUsuario: $idUsuario){\n\t\t\t\t\t\t\t \t\t\t\t\tdescripcion\t\n\t\t\t\t\t\t\t \t\t\t\t}\t\t\t\t\n\t\t\t\t\t\t}",
			variables: {
				idUsuario: "5ade907216edf832bf53692b"
			}
		})).then(function (response) {
			expect(response.status).toBe(200);
			expect(response.success).toBe(true);
			expect(response.data.cargarListaPreguntasAsignadasRevisor.length).toBe(3);
			done();
		});
	});
	it("No deberia poder ver el listado de las discusiones que se han creado o editado si no soy moderador", function (done) {
		self.test(JSON.stringify({
			query: "query loadListaCorreccionesByPreguntasCreadasEditadas($idPregunta: String, $usuario: String, $limit: Int){\n\t\t\t\t\t\t\tloadListaCorreccionesByPreguntasCreadasEditadas(idPregunta: $idPregunta, usuario: $usuario, limit: $limit){\n\t\t\t\t\t\t\t \t\t\t\t\ttitulo\n\t\t\t\t\t\t\t \t\t\t\t\tdescripcion\t\n\t\t\t\t\t\t\t \t\t\t\t}\t\t\t\t\n\t\t\t\t\t\t}",
			variables: {
				idPregunta: "5acde1c58cdf5a5284349714",
				usuario: "5ac24c758e4a6a23d4869ac7",
				limit: 10
			}
		})).then(function (response) {
			expect(response.status).toBe(200);
			expect(response.success).toBe(false);
			expect(response.errors[0].message).toMatch(/this users is not member committe, so you can't get this information/);
			done();
		});
	});
	it("No deberia poder asignar un estado a la Correccion de una pregunta" + "ya que soy el creador de la correccion de la pregunta", function (done) {
		self.test(JSON.stringify({
			query: "mutation asignarEstadoACorrecciondePregunta($idDiscusionPregunta: String, \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$idUsuario: String,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$estado: String,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$observacion: String){\n\t\t\t\t\t\t\tasignarEstadoACorrecciondePregunta(idDiscusionPregunta: $idDiscusionPregunta,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tidUsuario: $idUsuario,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\testado: $estado,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tobservacion: $observacion){\n\t\t\t\t\t\t\t\ttitulo\n\t\t\t\t\t\t\t\tdescripcion\n\t\t\t\t\t\t\t\testado_correccion{\n\t\t\t\t\t\t\t\t\tusuario_creador_estado {\n\t\t\t\t\t\t\t\t\t\tnombre\n\t\t\t\t\t\t\t\t\t\tcorreo\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t}",
			variables: {
				idDiscusionPregunta: "5ad2528cc89887677f3f5c6e",
				idUsuario: "5ac24c758e4a6a23d4869ac7",
				estado: "rechazado",
				observacion: "una observacion que no presenta ninguna relevancia "
			}
		})).then(function (response) {
			expect(response.status).toBe(200);
			expect(response.success).toBe(false);
			expect(response.errors[0].message).toMatch(/the owner of this issues, can't approved or reject this!!/);
			done();
		});
	});
	it("No deberia poder asignar un estado a la Correccion de una pregunta" + "ya que la discusion se encuentra en estado pendiente", function (done) {
		self.test(JSON.stringify({
			query: "mutation asignarEstadoACorrecciondePregunta($idDiscusionPregunta: String, \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$idUsuario: String,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$estado: String,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$observacion: String){\n\t\t\t\t\t\t\tasignarEstadoACorrecciondePregunta(idDiscusionPregunta: $idDiscusionPregunta,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tidUsuario: $idUsuario,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\testado: $estado,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tobservacion: $observacion){\n\t\t\t\t\t\t\t\ttitulo\n\t\t\t\t\t\t\t\tdescripcion\n\t\t\t\t\t\t\t\testado_correccion{\n\t\t\t\t\t\t\t\t\tusuario_creador_estado {\n\t\t\t\t\t\t\t\t\t\tnombre\n\t\t\t\t\t\t\t\t\t\tcorreo\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t}",
			variables: {
				idDiscusionPregunta: "5ad2528cc89887677f3f5c6e",
				idUsuario: "5ac248c98a3f74223f16895e",
				estado: "rechazado",
				observacion: "una observacion que no presenta ninguna relevancia "
			}
		})).then(function (response) {
			expect(response.status).toBe(200);
			expect(response.success).toBe(false);
			expect(response.errors[0].message).toMatch(/this issues was already assigned by a committe member, you can't change this!/);
			done();
		});
	});

	it("No deberia poder asignar un estado a la Correccion de una pregunta" + "ya que la discusion se encuentra en estado resuelto", function (done) {
		self.test(JSON.stringify({
			query: "mutation asignarEstadoACorrecciondePregunta($idDiscusionPregunta: String, \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$idUsuario: String,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$estado: String,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$observacion: String){\n\t\t\t\t\t\t\tasignarEstadoACorrecciondePregunta(idDiscusionPregunta: $idDiscusionPregunta,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tidUsuario: $idUsuario,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\testado: $estado,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tobservacion: $observacion){\n\t\t\t\t\t\t\t\ttitulo\n\t\t\t\t\t\t\t\tdescripcion\n\t\t\t\t\t\t\t\testado_correccion{\n\t\t\t\t\t\t\t\t\tusuario_creador_estado {\n\t\t\t\t\t\t\t\t\t\tnombre\n\t\t\t\t\t\t\t\t\t\tcorreo\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t}",
			variables: {
				idDiscusionPregunta: "5ad2528cc89887677f3f5c6e",
				idUsuario: "5ac248c98a3f74223f16895e",
				estado: "rechazado",
				observacion: "una observacion que no presenta ninguna relevancia "
			}
		})).then(function (response) {
			expect(response.status).toBe(200);
			expect(response.success).toBe(false);
			expect(response.errors[0].message).toMatch(/this issues was already marked like solved, by the owner this content/);
			done();
		});
	});
	it("Deberia poder asignar un estado a la Correccion de una pregunta" + "ya que la discusion se encuentra en estado creado", function (done) {
		self.test(JSON.stringify({
			query: "mutation asignarEstadoACorrecciondePregunta($idDiscusionPregunta: String, \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$idUsuario: String,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$estado: String,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$observacion: String){\n\t\t\t\t\t\t\tasignarEstadoACorrecciondePregunta(idDiscusionPregunta: $idDiscusionPregunta,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tidUsuario: $idUsuario,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\testado: $estado,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tobservacion: $observacion){\n\t\t\t\t\t\t\t\ttitulo\n\t\t\t\t\t\t\t\tdescripcion\n\t\t\t\t\t\t\t\testado_correccion{\n\t\t\t\t\t\t\t\t\tusuario_creador_estado {\n\t\t\t\t\t\t\t\t\t\tnombre\n\t\t\t\t\t\t\t\t\t\tcorreo\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t}",
			variables: {
				idDiscusionPregunta: "5ad6188ebd916635f7ac9f86",
				idUsuario: "5ac248c98a3f74223f16895e",
				estado: "rechazado",
				observacion: "una observacion que no presenta ninguna relevancia "
			}
		})).then(function (response) {
			expect(response.status).toBe(200);
			expect(response.success).toBe(true);
			expect(response.data.asignarEstadoACorrecciondePregunta.estado_correccion[1].usuario_creador_estado.correo).toMatch(/kevinandresortizmerchan111@gmail.com/);
			done();
		});
	});
	it("Deberia poder asignar un estado de aceptado a la Correccion de una pregunta" + "ya que la discusion se encuentra en estado creado", function (done) {
		self.test(JSON.stringify({
			query: "mutation asignarEstadoACorrecciondePregunta($idDiscusionPregunta: String, \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$idUsuario: String,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$estado: String,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$observacion: String){\n\t\t\t\t\t\t\tasignarEstadoACorrecciondePregunta(idDiscusionPregunta: $idDiscusionPregunta,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tidUsuario: $idUsuario,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\testado: $estado,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tobservacion: $observacion){\n\t\t\t\t\t\t\t\ttitulo\n\t\t\t\t\t\t\t\tdescripcion\n\t\t\t\t\t\t\t\testado_correccion{\n\t\t\t\t\t\t\t\t\tusuario_creador_estado {\n\t\t\t\t\t\t\t\t\t\tnombre\n\t\t\t\t\t\t\t\t\t\tcorreo\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t}",
			variables: {
				idDiscusionPregunta: "5ad6ab93544c435a36550952",
				idUsuario: "5ac248c98a3f74223f16895e",
				estado: "aceptado",
				observacion: "muy buena correccion"
			}
		})).then(function (response) {
			expect(response.status).toBe(200);
			expect(response.success).toBe(true);
			expect(response.data.asignarEstadoACorrecciondePregunta.estado_correccion[1].usuario_creador_estado.correo).toMatch(/kevinandresortizmerchan111@gmail.com/);
			done();
		});
	});
	it("Deberia poder asignar un delegado a un conjunto de pregunta, siendo" + "un usuario miembro del comite", function (done) {
		self.test(JSON.stringify({
			query: "mutation asignarPreguntasAMiembroComite($idUsuario: String, \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$arrayPreguntas: [ID!]){\n\t\t\t\t\t\t\tasignarPreguntasAMiembroComite(idUsuario: $idUsuario,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tarrayPreguntas: $arrayPreguntas)\n\t\t\t\t\t\t\t\t\n\t\t\t\t}",
			variables: {
				idUsuario: "5ac24c758e4a6a23d4869ac7",
				arrayPreguntas: ["5addfc4dff628f04be5dcc97", "5addfc54ff628f04be5dcc98", "5addfc5aff628f04be5dcc99"]
			}
		})).then(function (response) {
			expect(response.status).toBe(200);
			expect(response.success).toBe(true);
			expect(response.data.asignarPreguntasAMiembroComite).toBe(true);
			done();
		});
	});

	it("Deberia poder asignar un estado a una pregunta, siendo" + "miembro del comite", function (done) {
		self.test(JSON.stringify({
			query: "mutation asignarEstadoPregunta($idPregunta: String!, \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$idUsuario: String!,$estado: String!, $observacion:String){\n\t\t\t\t\t\t\tasignarEstadoPregunta(idPregunta: $idPregunta,idUsuario: $idUsuario,\n\t\t\t\t\t\t\t\t\t\t\t\t  estado: $estado, observacion: $observacion){\n\t\t\t\t\t\t\t\t\t\t\t\t  \n\t\t\t\t\t\t\t\t\testado\n\t\t\t\t\t\t\t\t\testados_asignados{\n\t\t\t\t\t\t\t\t\t\testado_asignado\n\t\t\t\t\t\t\t\t\t}\t\t\t\t\t  \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t}",
			variables: {
				idPregunta: "5addfc4dff628f04be5dcc97",
				idUsuario: "5ac24c758e4a6a23d4869ac7",
				estado: "aceptado",
				observacion: "ha sido aceptado"
			}
		})).then(function (response) {
			expect(response.status).toBe(200);
			expect(response.success).toBe(true);
			expect(response.data.asignarEstadoPregunta.estado).toMatch(/aceptado/);
			expect(response.data.asignarEstadoPregunta.estados_asignados[0].estado_asignado).toMatch(/aceptado/);
			done();
		});
	});
	it("Deberia no poder asignar un estado a una pregunta, siendo" + "el creador de la pregunta", function (done) {
		self.test(JSON.stringify({
			query: "mutation asignarEstadoPregunta($idPregunta: String!, \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$idUsuario: String!,$estado: String!, $observacion:String){\n\t\t\t\t\t\t\tasignarEstadoPregunta(idPregunta: $idPregunta,idUsuario: $idUsuario,\n\t\t\t\t\t\t\t\t\t\t\t\t  estado: $estado, observacion: $observacion){\n\t\t\t\t\t\t\t\t\t\t\t\t  \n\t\t\t\t\t\t\t\t\testado\n\t\t\t\t\t\t\t\t\testados_asignados{\n\t\t\t\t\t\t\t\t\t\testado_asignado\n\t\t\t\t\t\t\t\t\t}\t\t\t\t\t  \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t}",
			variables: {
				idPregunta: "5addfc4dff628f04be5dcc97",
				idUsuario: "5ac248c98a3f74223f16895e",
				estado: "aceptado",
				observacion: "ha sido aceptado"
			}
		})).then(function (response) {
			expect(response.status).toBe(200);
			expect(response.success).toBe(false);
			expect(response.errors[0].message).toMatch(/are the owner the question/);
			done();
		});
	});
	it("Deberia no poder asignar un estado a una pregunta,no siendo" + "designado como asignar estado de una pregunta", function (done) {
		self.test(JSON.stringify({
			query: "mutation asignarEstadoPregunta($idPregunta: String!, \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$idUsuario: String!,$estado: String!, $observacion:String){\n\t\t\t\t\t\t\tasignarEstadoPregunta(idPregunta: $idPregunta,idUsuario: $idUsuario,\n\t\t\t\t\t\t\t\t\t\t\t\t  estado: $estado, observacion: $observacion){\n\t\t\t\t\t\t\t\t\t\t\t\t  \n\t\t\t\t\t\t\t\t\testado\n\t\t\t\t\t\t\t\t\testados_asignados{\n\t\t\t\t\t\t\t\t\t\testado_asignado\n\t\t\t\t\t\t\t\t\t}\t\t\t\t\t  \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t}",
			variables: {
				idPregunta: "5addfc4dff628f04be5dcc97",
				idUsuario: "5ac248c98a3f74223f00895e",
				estado: "aceptado",
				observacion: "ha sido aceptado"
			}
		})).then(function (response) {
			expect(response.status).toBe(200);
			expect(response.success).toBe(false);
			expect(response.errors[0].message).toMatch(/because was not assigned/);
			done();
		});
	});
	it("Deberia poder asignar la lista de preguntas" + "a otro usuario que tambien es miembro de comite", function (done) {
		self.test(JSON.stringify({
			query: "mutation transferirListaPreguntasDesignadasAUsuario($idUsuarioDesignado: String!, $idUsuarioActivo:String){\n\t\t\t\t\t\t\ttransferirListaPreguntasDesignadasAUsuario(idUsuarioDesignado:$idUsuarioDesignado,idUsuarioActivo:$idUsuarioActivo)\n\t\t\t\t\t\t\t\t\n\t\t\t\t}",
			variables: {
				idUsuarioDesignado: "5ade907216edf832bf53692b",
				idUsuarioActivo: "5ac24c758e4a6a23d4869ac7"
			}
		})).then(function (response) {
			expect(response.status).toBe(200);
			expect(response.success).toBe(true);
			expect(response.data.transferirListaPreguntasDesignadasAUsuario).toBe(true);
			done();
		});
	});
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Rlc3RzL2ludGVncmF0aW9uL21pZW1icm9zLWNvbWl0ZS50ZXN0LmpzIl0sIm5hbWVzIjpbInRlc3RlciIsInJlcXVpcmUiLCJkZXNjcmliZSIsInNlbGYiLCJ0ZXN0IiwidXJsIiwiY29udGVudFR5cGUiLCJpdCIsImRvbmUiLCJKU09OIiwic3RyaW5naWZ5IiwicXVlcnkiLCJ2YXJpYWJsZXMiLCJpZFByZWd1bnRhIiwidXN1YXJpbyIsImxpbWl0IiwidGhlbiIsImV4cGVjdCIsInJlc3BvbnNlIiwic3RhdHVzIiwidG9CZSIsInN1Y2Nlc3MiLCJkYXRhIiwibG9hZExpc3RhQ29ycmVjY2lvbmVzQnlQcmVndW50YXNDcmVhZGFzRWRpdGFkYXMiLCJsZW5ndGgiLCJpZFVzdWFyaW8iLCJjYXJnYXJMaXN0YVByZWd1bnRhc0FzaWduYWRhc1Jldmlzb3IiLCJlcnJvcnMiLCJtZXNzYWdlIiwidG9NYXRjaCIsImlkRGlzY3VzaW9uUHJlZ3VudGEiLCJlc3RhZG8iLCJvYnNlcnZhY2lvbiIsImFzaWduYXJFc3RhZG9BQ29ycmVjY2lvbmRlUHJlZ3VudGEiLCJlc3RhZG9fY29ycmVjY2lvbiIsInVzdWFyaW9fY3JlYWRvcl9lc3RhZG8iLCJjb3JyZW8iLCJhcnJheVByZWd1bnRhcyIsImFzaWduYXJQcmVndW50YXNBTWllbWJyb0NvbWl0ZSIsImFzaWduYXJFc3RhZG9QcmVndW50YSIsImVzdGFkb3NfYXNpZ25hZG9zIiwiZXN0YWRvX2FzaWduYWRvIiwiaWRVc3VhcmlvRGVzaWduYWRvIiwiaWRVc3VhcmlvQWN0aXZvIiwidHJhbnNmZXJpckxpc3RhUHJlZ3VudGFzRGVzaWduYWRhc0FVc3VhcmlvIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUVBLElBQU1BLFNBQVNDLFFBQVEsZ0JBQVIsRUFBMEJELE1BQXpDOztBQUVBRSxTQUFTLGtGQUFULEVBQTZGLFlBQVc7QUFDdkcsS0FBTUMsT0FBTyxJQUFiO0FBQ0FBLE1BQUtDLElBQUwsR0FBWUos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LElBWEYsQ0FXTyxvQkFBWTtBQUNqQkMsVUFBT0MsU0FBU0MsTUFBaEIsRUFBd0JDLElBQXhCLENBQTZCLEdBQTdCO0FBQ0FILFVBQU9DLFNBQVNHLE9BQWhCLEVBQXlCRCxJQUF6QixDQUE4QixJQUE5QjtBQUNBSCxVQUFPQyxTQUFTSSxJQUFULENBQWNzQiwwQ0FBckIsRUFBaUV4QixJQUFqRSxDQUFzRSxJQUF0RTtBQUNBWjtBQUNBLEdBaEJGO0FBaUJBLEVBbkJEO0FBcUJBLENBdllEIiwiZmlsZSI6Im1pZW1icm9zLWNvbWl0ZS50ZXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYscXVvdGVzICovXG5cbmNvbnN0IHRlc3RlciA9IHJlcXVpcmUoXCJncmFwaHFsLXRlc3RlclwiKS50ZXN0ZXI7XG5cbmRlc2NyaWJlKFwiQWNjaW9uZXMgZGVsIG1vZGVyZWFkb3IobWllbWJyb3MgZGVsIGNvbWl0ZSkgaGFjaWEgbGEgY29ycmVjY2lvbiBkZSB1bmEgcHJlZ3VudGFcIiwgZnVuY3Rpb24gKCl7XG5cdGNvbnN0IHNlbGYgPSB0aGlzO1xuXHRzZWxmLnRlc3QgPSB0ZXN0ZXIoe1xuXHRcdHVybDogXCJodHRwOi8vMTI3LjAuMC4xOjM2NjAvZ3JhcGh0ZXN0XCIsXG5cdFx0Y29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiXG5cdH0pO1xuXHRpdChcIkRlYmVyaWEgcG9kZXIgdmVyIGxhIGxpc3RhIGRlIGxhcyBkaXNjdXNpb25lcyBxdWUgc2UgaGFuIGNyZWFkbyBvIGVkaXRhZG8gcmVmZXJlbnRlIGEgdW5hIHByZWd1bnRhXCIsIGZ1bmN0aW9uIChkb25lKSB7XG5cdFx0c2VsZlxuXHRcdFx0LnRlc3QoSlNPTi5zdHJpbmdpZnkoe1xuXHRcdFx0XHRxdWVyeTogYHF1ZXJ5IGxvYWRMaXN0YUNvcnJlY2Npb25lc0J5UHJlZ3VudGFzQ3JlYWRhc0VkaXRhZGFzKCRpZFByZWd1bnRhOiBTdHJpbmcsICR1c3VhcmlvOiBTdHJpbmcsICRsaW1pdDogSW50KXtcblx0XHRcdFx0XHRcdFx0bG9hZExpc3RhQ29ycmVjY2lvbmVzQnlQcmVndW50YXNDcmVhZGFzRWRpdGFkYXMoaWRQcmVndW50YTogJGlkUHJlZ3VudGEsIHVzdWFyaW86ICR1c3VhcmlvLCBsaW1pdDogJGxpbWl0KXtcblx0XHRcdFx0XHRcdFx0IFx0XHRcdFx0XHR0aXR1bG9cblx0XHRcdFx0XHRcdFx0IFx0XHRcdFx0XHRkZXNjcmlwY2lvblx0XG5cdFx0XHRcdFx0XHRcdCBcdFx0XHRcdH1cdFx0XHRcdFxuXHRcdFx0XHRcdFx0fWAsXG5cdFx0XHRcdHZhcmlhYmxlczoge1xuXHRcdFx0XHRcdGlkUHJlZ3VudGE6IFwiNWFjZGUxYzU4Y2RmNWE1Mjg0MzQ5NzE0XCIsXG5cdFx0XHRcdFx0dXN1YXJpbzogXCI1YWMyNDhjOThhM2Y3NDIyM2YxNjg5NWVcIixcblx0XHRcdFx0XHRsaW1pdDogMTBcblx0XHRcdFx0fVxuXHRcdFx0fSkpXG5cdFx0XHQudGhlbihyZXNwb25zZSA9PiB7XG5cdFx0XHRcdGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcblx0XHRcdFx0ZXhwZWN0KHJlc3BvbnNlLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG5cdFx0XHRcdGV4cGVjdChyZXNwb25zZS5kYXRhLmxvYWRMaXN0YUNvcnJlY2Npb25lc0J5UHJlZ3VudGFzQ3JlYWRhc0VkaXRhZGFzLmxlbmd0aCkudG9CZSg1KTtcblx0XHRcdFx0ZG9uZSgpO1xuXHRcdFx0fSk7XG5cdH0pO1xuXHRpdChcIkRlYmVyaWEgcG9kZXIgdmVyIGxhIGxpc3RhIGRlIHByZWd1bnRhcyBxdWUgaGUgc2lkbyBkZXNpZ25hZG9cIiwgZnVuY3Rpb24gKGRvbmUpIHtcblx0XHRzZWxmXG5cdFx0XHQudGVzdChKU09OLnN0cmluZ2lmeSh7XG5cdFx0XHRcdHF1ZXJ5OiBgcXVlcnkgY2FyZ2FyTGlzdGFQcmVndW50YXNBc2lnbmFkYXNSZXZpc29yKCRpZFVzdWFyaW86IFN0cmluZyl7XG5cdFx0XHRcdFx0XHRcdGNhcmdhckxpc3RhUHJlZ3VudGFzQXNpZ25hZGFzUmV2aXNvcihpZFVzdWFyaW86ICRpZFVzdWFyaW8pe1xuXHRcdFx0XHRcdFx0XHQgXHRcdFx0XHRcdGRlc2NyaXBjaW9uXHRcblx0XHRcdFx0XHRcdFx0IFx0XHRcdFx0fVx0XHRcdFx0XG5cdFx0XHRcdFx0XHR9YCxcblx0XHRcdFx0dmFyaWFibGVzOiB7XG5cdFx0XHRcdFx0aWRVc3VhcmlvOlwiNWFkZTkwNzIxNmVkZjgzMmJmNTM2OTJiXCJcblx0XHRcdFx0fVxuXHRcdFx0fSkpXG5cdFx0XHQudGhlbihyZXNwb25zZSA9PiB7XG5cdFx0XHRcdGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcblx0XHRcdFx0ZXhwZWN0KHJlc3BvbnNlLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG5cdFx0XHRcdGV4cGVjdChyZXNwb25zZS5kYXRhLmNhcmdhckxpc3RhUHJlZ3VudGFzQXNpZ25hZGFzUmV2aXNvci5sZW5ndGgpLnRvQmUoMyk7XG5cdFx0XHRcdGRvbmUoKTtcblx0XHRcdH0pO1xuXHR9KTtcblx0aXQoXCJObyBkZWJlcmlhIHBvZGVyIHZlciBlbCBsaXN0YWRvIGRlIGxhcyBkaXNjdXNpb25lcyBxdWUgc2UgaGFuIGNyZWFkbyBvIGVkaXRhZG8gc2kgbm8gc295IG1vZGVyYWRvclwiLCBmdW5jdGlvbiAoZG9uZSkge1xuXHRcdHNlbGZcblx0XHRcdC50ZXN0KEpTT04uc3RyaW5naWZ5KHtcblx0XHRcdFx0cXVlcnk6IGBxdWVyeSBsb2FkTGlzdGFDb3JyZWNjaW9uZXNCeVByZWd1bnRhc0NyZWFkYXNFZGl0YWRhcygkaWRQcmVndW50YTogU3RyaW5nLCAkdXN1YXJpbzogU3RyaW5nLCAkbGltaXQ6IEludCl7XG5cdFx0XHRcdFx0XHRcdGxvYWRMaXN0YUNvcnJlY2Npb25lc0J5UHJlZ3VudGFzQ3JlYWRhc0VkaXRhZGFzKGlkUHJlZ3VudGE6ICRpZFByZWd1bnRhLCB1c3VhcmlvOiAkdXN1YXJpbywgbGltaXQ6ICRsaW1pdCl7XG5cdFx0XHRcdFx0XHRcdCBcdFx0XHRcdFx0dGl0dWxvXG5cdFx0XHRcdFx0XHRcdCBcdFx0XHRcdFx0ZGVzY3JpcGNpb25cdFxuXHRcdFx0XHRcdFx0XHQgXHRcdFx0XHR9XHRcdFx0XHRcblx0XHRcdFx0XHRcdH1gLFxuXHRcdFx0XHR2YXJpYWJsZXM6IHtcblx0XHRcdFx0XHRpZFByZWd1bnRhOiBcIjVhY2RlMWM1OGNkZjVhNTI4NDM0OTcxNFwiLFxuXHRcdFx0XHRcdHVzdWFyaW86IFwiNWFjMjRjNzU4ZTRhNmEyM2Q0ODY5YWM3XCIsXG5cdFx0XHRcdFx0bGltaXQ6IDEwXG5cdFx0XHRcdH1cblx0XHRcdH0pKVxuXHRcdFx0LnRoZW4ocmVzcG9uc2UgPT4ge1xuXHRcdFx0XHRleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG5cdFx0XHRcdGV4cGVjdChyZXNwb25zZS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcblx0XHRcdFx0ZXhwZWN0KHJlc3BvbnNlLmVycm9yc1swXS5tZXNzYWdlKS50b01hdGNoKC90aGlzIHVzZXJzIGlzIG5vdCBtZW1iZXIgY29tbWl0dGUsIHNvIHlvdSBjYW4ndCBnZXQgdGhpcyBpbmZvcm1hdGlvbi8pO1xuXHRcdFx0XHRkb25lKCk7XG5cdFx0XHR9KTtcblx0fSk7XG5cdGl0KFwiTm8gZGViZXJpYSBwb2RlciBhc2lnbmFyIHVuIGVzdGFkbyBhIGxhIENvcnJlY2Npb24gZGUgdW5hIHByZWd1bnRhXCIgK1xuXHRcdFwieWEgcXVlIHNveSBlbCBjcmVhZG9yIGRlIGxhIGNvcnJlY2Npb24gZGUgbGEgcHJlZ3VudGFcIiwgZnVuY3Rpb24gKGRvbmUpIHtcblx0XHRzZWxmXG5cdFx0XHQudGVzdChKU09OLnN0cmluZ2lmeSh7XG5cdFx0XHRcdHF1ZXJ5OiBgbXV0YXRpb24gYXNpZ25hckVzdGFkb0FDb3JyZWNjaW9uZGVQcmVndW50YSgkaWREaXNjdXNpb25QcmVndW50YTogU3RyaW5nLCBcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkaWRVc3VhcmlvOiBTdHJpbmcsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0JGVzdGFkbzogU3RyaW5nLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCRvYnNlcnZhY2lvbjogU3RyaW5nKXtcblx0XHRcdFx0XHRcdFx0YXNpZ25hckVzdGFkb0FDb3JyZWNjaW9uZGVQcmVndW50YShpZERpc2N1c2lvblByZWd1bnRhOiAkaWREaXNjdXNpb25QcmVndW50YSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWRVc3VhcmlvOiAkaWRVc3VhcmlvLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRlc3RhZG86ICRlc3RhZG8sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9ic2VydmFjaW9uOiAkb2JzZXJ2YWNpb24pe1xuXHRcdFx0XHRcdFx0XHRcdHRpdHVsb1xuXHRcdFx0XHRcdFx0XHRcdGRlc2NyaXBjaW9uXG5cdFx0XHRcdFx0XHRcdFx0ZXN0YWRvX2NvcnJlY2Npb257XG5cdFx0XHRcdFx0XHRcdFx0XHR1c3VhcmlvX2NyZWFkb3JfZXN0YWRvIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9tYnJlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvcnJlb1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFxuXHRcdFx0XHR9YCxcblx0XHRcdFx0dmFyaWFibGVzOiB7XG5cdFx0XHRcdFx0aWREaXNjdXNpb25QcmVndW50YTogXCI1YWQyNTI4Y2M4OTg4NzY3N2YzZjVjNmVcIixcblx0XHRcdFx0XHRpZFVzdWFyaW86XCI1YWMyNGM3NThlNGE2YTIzZDQ4NjlhYzdcIixcblx0XHRcdFx0XHRlc3RhZG86IFwicmVjaGF6YWRvXCIsXG5cdFx0XHRcdFx0b2JzZXJ2YWNpb246IFwidW5hIG9ic2VydmFjaW9uIHF1ZSBubyBwcmVzZW50YSBuaW5ndW5hIHJlbGV2YW5jaWEgXCJcblx0XHRcdFx0fVxuXHRcdFx0fSkpXG5cdFx0XHQudGhlbihyZXNwb25zZSA9PiB7XG5cdFx0XHRcdGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcblx0XHRcdFx0ZXhwZWN0KHJlc3BvbnNlLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuXHRcdFx0XHRleHBlY3QocmVzcG9uc2UuZXJyb3JzWzBdLm1lc3NhZ2UpLnRvTWF0Y2goL3RoZSBvd25lciBvZiB0aGlzIGlzc3VlcywgY2FuJ3QgYXBwcm92ZWQgb3IgcmVqZWN0IHRoaXMhIS8pO1xuXHRcdFx0XHRkb25lKCk7XG5cdFx0XHR9KTtcblx0fSk7XG5cdGl0KFwiTm8gZGViZXJpYSBwb2RlciBhc2lnbmFyIHVuIGVzdGFkbyBhIGxhIENvcnJlY2Npb24gZGUgdW5hIHByZWd1bnRhXCIgK1xuXHRcdFwieWEgcXVlIGxhIGRpc2N1c2lvbiBzZSBlbmN1ZW50cmEgZW4gZXN0YWRvIHBlbmRpZW50ZVwiLCBmdW5jdGlvbiAoZG9uZSkge1xuXHRcdHNlbGZcblx0XHRcdC50ZXN0KEpTT04uc3RyaW5naWZ5KHtcblx0XHRcdFx0cXVlcnk6IGBtdXRhdGlvbiBhc2lnbmFyRXN0YWRvQUNvcnJlY2Npb25kZVByZWd1bnRhKCRpZERpc2N1c2lvblByZWd1bnRhOiBTdHJpbmcsIFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCRpZFVzdWFyaW86IFN0cmluZyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkZXN0YWRvOiBTdHJpbmcsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0JG9ic2VydmFjaW9uOiBTdHJpbmcpe1xuXHRcdFx0XHRcdFx0XHRhc2lnbmFyRXN0YWRvQUNvcnJlY2Npb25kZVByZWd1bnRhKGlkRGlzY3VzaW9uUHJlZ3VudGE6ICRpZERpc2N1c2lvblByZWd1bnRhLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZFVzdWFyaW86ICRpZFVzdWFyaW8sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVzdGFkbzogJGVzdGFkbyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b2JzZXJ2YWNpb246ICRvYnNlcnZhY2lvbil7XG5cdFx0XHRcdFx0XHRcdFx0dGl0dWxvXG5cdFx0XHRcdFx0XHRcdFx0ZGVzY3JpcGNpb25cblx0XHRcdFx0XHRcdFx0XHRlc3RhZG9fY29ycmVjY2lvbntcblx0XHRcdFx0XHRcdFx0XHRcdHVzdWFyaW9fY3JlYWRvcl9lc3RhZG8ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRub21icmVcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29ycmVvXG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdH1gLFxuXHRcdFx0XHR2YXJpYWJsZXM6IHtcblx0XHRcdFx0XHRpZERpc2N1c2lvblByZWd1bnRhOiBcIjVhZDI1MjhjYzg5ODg3Njc3ZjNmNWM2ZVwiLFxuXHRcdFx0XHRcdGlkVXN1YXJpbzpcIjVhYzI0OGM5OGEzZjc0MjIzZjE2ODk1ZVwiLFxuXHRcdFx0XHRcdGVzdGFkbzogXCJyZWNoYXphZG9cIixcblx0XHRcdFx0XHRvYnNlcnZhY2lvbjogXCJ1bmEgb2JzZXJ2YWNpb24gcXVlIG5vIHByZXNlbnRhIG5pbmd1bmEgcmVsZXZhbmNpYSBcIlxuXHRcdFx0XHR9XG5cdFx0XHR9KSlcblx0XHRcdC50aGVuKHJlc3BvbnNlID0+IHtcblx0XHRcdFx0ZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuXHRcdFx0XHRleHBlY3QocmVzcG9uc2Uuc3VjY2VzcykudG9CZShmYWxzZSk7XG5cdFx0XHRcdGV4cGVjdChyZXNwb25zZS5lcnJvcnNbMF0ubWVzc2FnZSkudG9NYXRjaCgvdGhpcyBpc3N1ZXMgd2FzIGFscmVhZHkgYXNzaWduZWQgYnkgYSBjb21taXR0ZSBtZW1iZXIsIHlvdSBjYW4ndCBjaGFuZ2UgdGhpcyEvKTtcblx0XHRcdFx0ZG9uZSgpO1xuXHRcdFx0fSk7XG5cdH0pO1xuXG5cdGl0KFwiTm8gZGViZXJpYSBwb2RlciBhc2lnbmFyIHVuIGVzdGFkbyBhIGxhIENvcnJlY2Npb24gZGUgdW5hIHByZWd1bnRhXCIgK1xuXHRcdFwieWEgcXVlIGxhIGRpc2N1c2lvbiBzZSBlbmN1ZW50cmEgZW4gZXN0YWRvIHJlc3VlbHRvXCIsIGZ1bmN0aW9uIChkb25lKSB7XG5cdFx0c2VsZlxuXHRcdFx0LnRlc3QoSlNPTi5zdHJpbmdpZnkoe1xuXHRcdFx0XHRxdWVyeTogYG11dGF0aW9uIGFzaWduYXJFc3RhZG9BQ29ycmVjY2lvbmRlUHJlZ3VudGEoJGlkRGlzY3VzaW9uUHJlZ3VudGE6IFN0cmluZywgXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0JGlkVXN1YXJpbzogU3RyaW5nLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCRlc3RhZG86IFN0cmluZyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkb2JzZXJ2YWNpb246IFN0cmluZyl7XG5cdFx0XHRcdFx0XHRcdGFzaWduYXJFc3RhZG9BQ29ycmVjY2lvbmRlUHJlZ3VudGEoaWREaXNjdXNpb25QcmVndW50YTogJGlkRGlzY3VzaW9uUHJlZ3VudGEsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlkVXN1YXJpbzogJGlkVXN1YXJpbyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZXN0YWRvOiAkZXN0YWRvLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvYnNlcnZhY2lvbjogJG9ic2VydmFjaW9uKXtcblx0XHRcdFx0XHRcdFx0XHR0aXR1bG9cblx0XHRcdFx0XHRcdFx0XHRkZXNjcmlwY2lvblxuXHRcdFx0XHRcdFx0XHRcdGVzdGFkb19jb3JyZWNjaW9ue1xuXHRcdFx0XHRcdFx0XHRcdFx0dXN1YXJpb19jcmVhZG9yX2VzdGFkbyB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vbWJyZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb3JyZW9cblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdFx0fWAsXG5cdFx0XHRcdHZhcmlhYmxlczoge1xuXHRcdFx0XHRcdGlkRGlzY3VzaW9uUHJlZ3VudGE6IFwiNWFkMjUyOGNjODk4ODc2NzdmM2Y1YzZlXCIsXG5cdFx0XHRcdFx0aWRVc3VhcmlvOlwiNWFjMjQ4Yzk4YTNmNzQyMjNmMTY4OTVlXCIsXG5cdFx0XHRcdFx0ZXN0YWRvOiBcInJlY2hhemFkb1wiLFxuXHRcdFx0XHRcdG9ic2VydmFjaW9uOiBcInVuYSBvYnNlcnZhY2lvbiBxdWUgbm8gcHJlc2VudGEgbmluZ3VuYSByZWxldmFuY2lhIFwiXG5cdFx0XHRcdH1cblx0XHRcdH0pKVxuXHRcdFx0LnRoZW4ocmVzcG9uc2UgPT4ge1xuXHRcdFx0XHRleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG5cdFx0XHRcdGV4cGVjdChyZXNwb25zZS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcblx0XHRcdFx0ZXhwZWN0KHJlc3BvbnNlLmVycm9yc1swXS5tZXNzYWdlKS50b01hdGNoKC90aGlzIGlzc3VlcyB3YXMgYWxyZWFkeSBtYXJrZWQgbGlrZSBzb2x2ZWQsIGJ5IHRoZSBvd25lciB0aGlzIGNvbnRlbnQvKTtcblx0XHRcdFx0ZG9uZSgpO1xuXHRcdFx0fSk7XG5cdH0pO1xuXHRpdChcIkRlYmVyaWEgcG9kZXIgYXNpZ25hciB1biBlc3RhZG8gYSBsYSBDb3JyZWNjaW9uIGRlIHVuYSBwcmVndW50YVwiICtcblx0XHRcInlhIHF1ZSBsYSBkaXNjdXNpb24gc2UgZW5jdWVudHJhIGVuIGVzdGFkbyBjcmVhZG9cIiwgZnVuY3Rpb24gKGRvbmUpIHtcblx0XHRzZWxmXG5cdFx0XHQudGVzdChKU09OLnN0cmluZ2lmeSh7XG5cdFx0XHRcdHF1ZXJ5OiBgbXV0YXRpb24gYXNpZ25hckVzdGFkb0FDb3JyZWNjaW9uZGVQcmVndW50YSgkaWREaXNjdXNpb25QcmVndW50YTogU3RyaW5nLCBcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkaWRVc3VhcmlvOiBTdHJpbmcsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0JGVzdGFkbzogU3RyaW5nLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCRvYnNlcnZhY2lvbjogU3RyaW5nKXtcblx0XHRcdFx0XHRcdFx0YXNpZ25hckVzdGFkb0FDb3JyZWNjaW9uZGVQcmVndW50YShpZERpc2N1c2lvblByZWd1bnRhOiAkaWREaXNjdXNpb25QcmVndW50YSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWRVc3VhcmlvOiAkaWRVc3VhcmlvLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRlc3RhZG86ICRlc3RhZG8sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9ic2VydmFjaW9uOiAkb2JzZXJ2YWNpb24pe1xuXHRcdFx0XHRcdFx0XHRcdHRpdHVsb1xuXHRcdFx0XHRcdFx0XHRcdGRlc2NyaXBjaW9uXG5cdFx0XHRcdFx0XHRcdFx0ZXN0YWRvX2NvcnJlY2Npb257XG5cdFx0XHRcdFx0XHRcdFx0XHR1c3VhcmlvX2NyZWFkb3JfZXN0YWRvIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9tYnJlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvcnJlb1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHR9YCxcblx0XHRcdFx0dmFyaWFibGVzOiB7XG5cdFx0XHRcdFx0aWREaXNjdXNpb25QcmVndW50YTogXCI1YWQ2MTg4ZWJkOTE2NjM1ZjdhYzlmODZcIixcblx0XHRcdFx0XHRpZFVzdWFyaW86XCI1YWMyNDhjOThhM2Y3NDIyM2YxNjg5NWVcIixcblx0XHRcdFx0XHRlc3RhZG86IFwicmVjaGF6YWRvXCIsXG5cdFx0XHRcdFx0b2JzZXJ2YWNpb246IFwidW5hIG9ic2VydmFjaW9uIHF1ZSBubyBwcmVzZW50YSBuaW5ndW5hIHJlbGV2YW5jaWEgXCJcblx0XHRcdFx0fVxuXHRcdFx0fSkpXG5cdFx0XHQudGhlbihyZXNwb25zZSA9PiB7XG5cdFx0XHRcdGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcblx0XHRcdFx0ZXhwZWN0KHJlc3BvbnNlLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG5cdFx0XHRcdGV4cGVjdChyZXNwb25zZS5kYXRhLmFzaWduYXJFc3RhZG9BQ29ycmVjY2lvbmRlUHJlZ3VudGEuZXN0YWRvX2NvcnJlY2Npb25bMV0udXN1YXJpb19jcmVhZG9yX2VzdGFkby5jb3JyZW8pLnRvTWF0Y2goL2tldmluYW5kcmVzb3J0aXptZXJjaGFuMTExQGdtYWlsLmNvbS8pO1xuXHRcdFx0XHRkb25lKCk7XG5cdFx0XHR9KTtcblx0fSk7XG5cdGl0KFwiRGViZXJpYSBwb2RlciBhc2lnbmFyIHVuIGVzdGFkbyBkZSBhY2VwdGFkbyBhIGxhIENvcnJlY2Npb24gZGUgdW5hIHByZWd1bnRhXCIgK1xuXHRcdFwieWEgcXVlIGxhIGRpc2N1c2lvbiBzZSBlbmN1ZW50cmEgZW4gZXN0YWRvIGNyZWFkb1wiLCBmdW5jdGlvbiAoZG9uZSkge1xuXHRcdHNlbGZcblx0XHRcdC50ZXN0KEpTT04uc3RyaW5naWZ5KHtcblx0XHRcdFx0cXVlcnk6IGBtdXRhdGlvbiBhc2lnbmFyRXN0YWRvQUNvcnJlY2Npb25kZVByZWd1bnRhKCRpZERpc2N1c2lvblByZWd1bnRhOiBTdHJpbmcsIFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCRpZFVzdWFyaW86IFN0cmluZyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkZXN0YWRvOiBTdHJpbmcsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0JG9ic2VydmFjaW9uOiBTdHJpbmcpe1xuXHRcdFx0XHRcdFx0XHRhc2lnbmFyRXN0YWRvQUNvcnJlY2Npb25kZVByZWd1bnRhKGlkRGlzY3VzaW9uUHJlZ3VudGE6ICRpZERpc2N1c2lvblByZWd1bnRhLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZFVzdWFyaW86ICRpZFVzdWFyaW8sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVzdGFkbzogJGVzdGFkbyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b2JzZXJ2YWNpb246ICRvYnNlcnZhY2lvbil7XG5cdFx0XHRcdFx0XHRcdFx0dGl0dWxvXG5cdFx0XHRcdFx0XHRcdFx0ZGVzY3JpcGNpb25cblx0XHRcdFx0XHRcdFx0XHRlc3RhZG9fY29ycmVjY2lvbntcblx0XHRcdFx0XHRcdFx0XHRcdHVzdWFyaW9fY3JlYWRvcl9lc3RhZG8ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRub21icmVcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29ycmVvXG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdH1gLFxuXHRcdFx0XHR2YXJpYWJsZXM6IHtcblx0XHRcdFx0XHRpZERpc2N1c2lvblByZWd1bnRhOiBcIjVhZDZhYjkzNTQ0YzQzNWEzNjU1MDk1MlwiLFxuXHRcdFx0XHRcdGlkVXN1YXJpbzpcIjVhYzI0OGM5OGEzZjc0MjIzZjE2ODk1ZVwiLFxuXHRcdFx0XHRcdGVzdGFkbzogXCJhY2VwdGFkb1wiLFxuXHRcdFx0XHRcdG9ic2VydmFjaW9uOiBcIm11eSBidWVuYSBjb3JyZWNjaW9uXCJcblx0XHRcdFx0fVxuXHRcdFx0fSkpXG5cdFx0XHQudGhlbihyZXNwb25zZSA9PiB7XG5cdFx0XHRcdGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcblx0XHRcdFx0ZXhwZWN0KHJlc3BvbnNlLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG5cdFx0XHRcdGV4cGVjdChyZXNwb25zZS5kYXRhLmFzaWduYXJFc3RhZG9BQ29ycmVjY2lvbmRlUHJlZ3VudGEuZXN0YWRvX2NvcnJlY2Npb25bMV0udXN1YXJpb19jcmVhZG9yX2VzdGFkby5jb3JyZW8pLnRvTWF0Y2goL2tldmluYW5kcmVzb3J0aXptZXJjaGFuMTExQGdtYWlsLmNvbS8pO1xuXHRcdFx0XHRkb25lKCk7XG5cdFx0XHR9KTtcblx0fSk7XG5cdGl0KFwiRGViZXJpYSBwb2RlciBhc2lnbmFyIHVuIGRlbGVnYWRvIGEgdW4gY29uanVudG8gZGUgcHJlZ3VudGEsIHNpZW5kb1wiICtcblx0XHRcInVuIHVzdWFyaW8gbWllbWJybyBkZWwgY29taXRlXCIsIGZ1bmN0aW9uIChkb25lKSB7XG5cdFx0c2VsZlxuXHRcdFx0LnRlc3QoSlNPTi5zdHJpbmdpZnkoe1xuXHRcdFx0XHRxdWVyeTogYG11dGF0aW9uIGFzaWduYXJQcmVndW50YXNBTWllbWJyb0NvbWl0ZSgkaWRVc3VhcmlvOiBTdHJpbmcsIFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCRhcnJheVByZWd1bnRhczogW0lEIV0pe1xuXHRcdFx0XHRcdFx0XHRhc2lnbmFyUHJlZ3VudGFzQU1pZW1icm9Db21pdGUoaWRVc3VhcmlvOiAkaWRVc3VhcmlvLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXJyYXlQcmVndW50YXM6ICRhcnJheVByZWd1bnRhcylcblx0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0fWAsXG5cdFx0XHRcdHZhcmlhYmxlczoge1xuXHRcdFx0XHRcdGlkVXN1YXJpbzpcIjVhYzI0Yzc1OGU0YTZhMjNkNDg2OWFjN1wiLFxuXHRcdFx0XHRcdGFycmF5UHJlZ3VudGFzOiBbXCI1YWRkZmM0ZGZmNjI4ZjA0YmU1ZGNjOTdcIixcIjVhZGRmYzU0ZmY2MjhmMDRiZTVkY2M5OFwiLFwiNWFkZGZjNWFmZjYyOGYwNGJlNWRjYzk5XCJdXG5cdFx0XHRcdH1cblx0XHRcdH0pKVxuXHRcdFx0LnRoZW4ocmVzcG9uc2UgPT4ge1xuXHRcdFx0XHRleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG5cdFx0XHRcdGV4cGVjdChyZXNwb25zZS5zdWNjZXNzKS50b0JlKHRydWUpO1xuXHRcdFx0XHRleHBlY3QocmVzcG9uc2UuZGF0YS5hc2lnbmFyUHJlZ3VudGFzQU1pZW1icm9Db21pdGUpLnRvQmUodHJ1ZSk7XG5cdFx0XHRcdGRvbmUoKTtcblx0XHRcdH0pO1xuXHR9KTtcblxuXHRpdChcIkRlYmVyaWEgcG9kZXIgYXNpZ25hciB1biBlc3RhZG8gYSB1bmEgcHJlZ3VudGEsIHNpZW5kb1wiICtcblx0XHRcIm1pZW1icm8gZGVsIGNvbWl0ZVwiLCBmdW5jdGlvbiAoZG9uZSkge1xuXHRcdHNlbGZcblx0XHRcdC50ZXN0KEpTT04uc3RyaW5naWZ5KHtcblx0XHRcdFx0cXVlcnk6IGBtdXRhdGlvbiBhc2lnbmFyRXN0YWRvUHJlZ3VudGEoJGlkUHJlZ3VudGE6IFN0cmluZyEsIFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCRpZFVzdWFyaW86IFN0cmluZyEsJGVzdGFkbzogU3RyaW5nISwgJG9ic2VydmFjaW9uOlN0cmluZyl7XG5cdFx0XHRcdFx0XHRcdGFzaWduYXJFc3RhZG9QcmVndW50YShpZFByZWd1bnRhOiAkaWRQcmVndW50YSxpZFVzdWFyaW86ICRpZFVzdWFyaW8sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgIGVzdGFkbzogJGVzdGFkbywgb2JzZXJ2YWNpb246ICRvYnNlcnZhY2lvbil7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgIFxuXHRcdFx0XHRcdFx0XHRcdFx0ZXN0YWRvXG5cdFx0XHRcdFx0XHRcdFx0XHRlc3RhZG9zX2FzaWduYWRvc3tcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZXN0YWRvX2FzaWduYWRvXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHRcdFx0XHRcdCAgXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0fWAsXG5cdFx0XHRcdHZhcmlhYmxlczoge1xuXHRcdFx0XHRcdGlkUHJlZ3VudGE6IFwiNWFkZGZjNGRmZjYyOGYwNGJlNWRjYzk3XCIsXG5cdFx0XHRcdFx0aWRVc3VhcmlvOlwiNWFjMjRjNzU4ZTRhNmEyM2Q0ODY5YWM3XCIsXG5cdFx0XHRcdFx0ZXN0YWRvOiBcImFjZXB0YWRvXCIsXG5cdFx0XHRcdFx0b2JzZXJ2YWNpb246IFwiaGEgc2lkbyBhY2VwdGFkb1wiXG5cdFx0XHRcdH1cblx0XHRcdH0pKVxuXHRcdFx0LnRoZW4ocmVzcG9uc2UgPT4ge1xuXHRcdFx0XHRleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG5cdFx0XHRcdGV4cGVjdChyZXNwb25zZS5zdWNjZXNzKS50b0JlKHRydWUpO1xuXHRcdFx0XHRleHBlY3QocmVzcG9uc2UuZGF0YS5hc2lnbmFyRXN0YWRvUHJlZ3VudGEuZXN0YWRvKS50b01hdGNoKC9hY2VwdGFkby8pO1xuXHRcdFx0XHRleHBlY3QocmVzcG9uc2UuZGF0YS5hc2lnbmFyRXN0YWRvUHJlZ3VudGEuZXN0YWRvc19hc2lnbmFkb3NbMF0uZXN0YWRvX2FzaWduYWRvKS50b01hdGNoKC9hY2VwdGFkby8pO1xuXHRcdFx0XHRkb25lKCk7XG5cdFx0XHR9KTtcblx0fSk7XG5cdGl0KFwiRGViZXJpYSBubyBwb2RlciBhc2lnbmFyIHVuIGVzdGFkbyBhIHVuYSBwcmVndW50YSwgc2llbmRvXCIgK1xuXHRcdFwiZWwgY3JlYWRvciBkZSBsYSBwcmVndW50YVwiLCBmdW5jdGlvbiAoZG9uZSkge1xuXHRcdHNlbGZcblx0XHRcdC50ZXN0KEpTT04uc3RyaW5naWZ5KHtcblx0XHRcdFx0cXVlcnk6IGBtdXRhdGlvbiBhc2lnbmFyRXN0YWRvUHJlZ3VudGEoJGlkUHJlZ3VudGE6IFN0cmluZyEsIFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCRpZFVzdWFyaW86IFN0cmluZyEsJGVzdGFkbzogU3RyaW5nISwgJG9ic2VydmFjaW9uOlN0cmluZyl7XG5cdFx0XHRcdFx0XHRcdGFzaWduYXJFc3RhZG9QcmVndW50YShpZFByZWd1bnRhOiAkaWRQcmVndW50YSxpZFVzdWFyaW86ICRpZFVzdWFyaW8sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgIGVzdGFkbzogJGVzdGFkbywgb2JzZXJ2YWNpb246ICRvYnNlcnZhY2lvbil7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgIFxuXHRcdFx0XHRcdFx0XHRcdFx0ZXN0YWRvXG5cdFx0XHRcdFx0XHRcdFx0XHRlc3RhZG9zX2FzaWduYWRvc3tcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZXN0YWRvX2FzaWduYWRvXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHRcdFx0XHRcdCAgXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0fWAsXG5cdFx0XHRcdHZhcmlhYmxlczoge1xuXHRcdFx0XHRcdGlkUHJlZ3VudGE6IFwiNWFkZGZjNGRmZjYyOGYwNGJlNWRjYzk3XCIsXG5cdFx0XHRcdFx0aWRVc3VhcmlvOlwiNWFjMjQ4Yzk4YTNmNzQyMjNmMTY4OTVlXCIsXG5cdFx0XHRcdFx0ZXN0YWRvOiBcImFjZXB0YWRvXCIsXG5cdFx0XHRcdFx0b2JzZXJ2YWNpb246IFwiaGEgc2lkbyBhY2VwdGFkb1wiXG5cdFx0XHRcdH1cblx0XHRcdH0pKVxuXHRcdFx0LnRoZW4ocmVzcG9uc2UgPT4ge1xuXHRcdFx0XHRleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG5cdFx0XHRcdGV4cGVjdChyZXNwb25zZS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcblx0XHRcdFx0ZXhwZWN0KHJlc3BvbnNlLmVycm9yc1swXS5tZXNzYWdlKS50b01hdGNoKC9hcmUgdGhlIG93bmVyIHRoZSBxdWVzdGlvbi8pO1xuXHRcdFx0XHRkb25lKCk7XG5cdFx0XHR9KTtcblx0fSk7XG5cdGl0KFwiRGViZXJpYSBubyBwb2RlciBhc2lnbmFyIHVuIGVzdGFkbyBhIHVuYSBwcmVndW50YSxubyBzaWVuZG9cIiArXG5cdFx0XCJkZXNpZ25hZG8gY29tbyBhc2lnbmFyIGVzdGFkbyBkZSB1bmEgcHJlZ3VudGFcIiwgZnVuY3Rpb24gKGRvbmUpIHtcblx0XHRzZWxmXG5cdFx0XHQudGVzdChKU09OLnN0cmluZ2lmeSh7XG5cdFx0XHRcdHF1ZXJ5OiBgbXV0YXRpb24gYXNpZ25hckVzdGFkb1ByZWd1bnRhKCRpZFByZWd1bnRhOiBTdHJpbmchLCBcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkaWRVc3VhcmlvOiBTdHJpbmchLCRlc3RhZG86IFN0cmluZyEsICRvYnNlcnZhY2lvbjpTdHJpbmcpe1xuXHRcdFx0XHRcdFx0XHRhc2lnbmFyRXN0YWRvUHJlZ3VudGEoaWRQcmVndW50YTogJGlkUHJlZ3VudGEsaWRVc3VhcmlvOiAkaWRVc3VhcmlvLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICBlc3RhZG86ICRlc3RhZG8sIG9ic2VydmFjaW9uOiAkb2JzZXJ2YWNpb24pe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICBcblx0XHRcdFx0XHRcdFx0XHRcdGVzdGFkb1xuXHRcdFx0XHRcdFx0XHRcdFx0ZXN0YWRvc19hc2lnbmFkb3N7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGVzdGFkb19hc2lnbmFkb1xuXHRcdFx0XHRcdFx0XHRcdFx0fVx0XHRcdFx0XHQgIFxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdH1gLFxuXHRcdFx0XHR2YXJpYWJsZXM6IHtcblx0XHRcdFx0XHRpZFByZWd1bnRhOiBcIjVhZGRmYzRkZmY2MjhmMDRiZTVkY2M5N1wiLFxuXHRcdFx0XHRcdGlkVXN1YXJpbzpcIjVhYzI0OGM5OGEzZjc0MjIzZjAwODk1ZVwiLFxuXHRcdFx0XHRcdGVzdGFkbzogXCJhY2VwdGFkb1wiLFxuXHRcdFx0XHRcdG9ic2VydmFjaW9uOiBcImhhIHNpZG8gYWNlcHRhZG9cIlxuXHRcdFx0XHR9XG5cdFx0XHR9KSlcblx0XHRcdC50aGVuKHJlc3BvbnNlID0+IHtcblx0XHRcdFx0ZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuXHRcdFx0XHRleHBlY3QocmVzcG9uc2Uuc3VjY2VzcykudG9CZShmYWxzZSk7XG5cdFx0XHRcdGV4cGVjdChyZXNwb25zZS5lcnJvcnNbMF0ubWVzc2FnZSkudG9NYXRjaCgvYmVjYXVzZSB3YXMgbm90IGFzc2lnbmVkLyk7XG5cdFx0XHRcdGRvbmUoKTtcblx0XHRcdH0pO1xuXHR9KTtcblx0aXQoXCJEZWJlcmlhIHBvZGVyIGFzaWduYXIgbGEgbGlzdGEgZGUgcHJlZ3VudGFzXCIgK1xuXHRcdFwiYSBvdHJvIHVzdWFyaW8gcXVlIHRhbWJpZW4gZXMgbWllbWJybyBkZSBjb21pdGVcIiwgZnVuY3Rpb24gKGRvbmUpIHtcblx0XHRzZWxmXG5cdFx0XHQudGVzdChKU09OLnN0cmluZ2lmeSh7XG5cdFx0XHRcdHF1ZXJ5OiBgbXV0YXRpb24gdHJhbnNmZXJpckxpc3RhUHJlZ3VudGFzRGVzaWduYWRhc0FVc3VhcmlvKCRpZFVzdWFyaW9EZXNpZ25hZG86IFN0cmluZyEsICRpZFVzdWFyaW9BY3Rpdm86U3RyaW5nKXtcblx0XHRcdFx0XHRcdFx0dHJhbnNmZXJpckxpc3RhUHJlZ3VudGFzRGVzaWduYWRhc0FVc3VhcmlvKGlkVXN1YXJpb0Rlc2lnbmFkbzokaWRVc3VhcmlvRGVzaWduYWRvLGlkVXN1YXJpb0FjdGl2bzokaWRVc3VhcmlvQWN0aXZvKVxuXHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHR9YCxcblx0XHRcdFx0dmFyaWFibGVzOiB7XG5cdFx0XHRcdFx0aWRVc3VhcmlvRGVzaWduYWRvOiBcIjVhZGU5MDcyMTZlZGY4MzJiZjUzNjkyYlwiLFxuXHRcdFx0XHRcdGlkVXN1YXJpb0FjdGl2bzpcIjVhYzI0Yzc1OGU0YTZhMjNkNDg2OWFjN1wiXG5cdFx0XHRcdH1cblx0XHRcdH0pKVxuXHRcdFx0LnRoZW4ocmVzcG9uc2UgPT4ge1xuXHRcdFx0XHRleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG5cdFx0XHRcdGV4cGVjdChyZXNwb25zZS5zdWNjZXNzKS50b0JlKHRydWUpO1xuXHRcdFx0XHRleHBlY3QocmVzcG9uc2UuZGF0YS50cmFuc2ZlcmlyTGlzdGFQcmVndW50YXNEZXNpZ25hZGFzQVVzdWFyaW8pLnRvQmUodHJ1ZSk7XG5cdFx0XHRcdGRvbmUoKTtcblx0XHRcdH0pO1xuXHR9KTtcblxufSk7Il19