{"version":3,"sources":["../../../tests/integration/areaconocimiento.test.js"],"names":["tester","require","describe","self","test","url","contentType","it","done","JSON","stringify","query","variables","etiqueta","usuariopropietario","titulo","descripcion","idioma","then","expect","response","status","toBe","success","data","crearNuevaAreaConocimiento","toMatch","id","correo","errors","length","eliminarAreaConocimientoPregunta","nombre","listadoAreaConocimiento","caracter","filtrarAreasConocimiento"],"mappings":"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","file":"areaconocimiento.test.js","sourcesContent":["/* eslint-disable quotes,no-undef */\n\nconst tester = require('graphql-tester').tester;\n\ndescribe(\"Modelo area-conocimiento\", function (){\n\tconst self = this;\n\tself.test = tester({\n\t\turl: \"http://127.0.0.1:3660/graphtest\",\n\t\tcontentType: \"application/json\"\n\t});\n\tit(\"deberia poder crear un nuevo area de conocimiento \", (done) => {\n\t\tself\n\t\t\t.test(JSON.stringify({\n\t\t\t\tquery: `mutation crearNuevaAreaConocimiento($etiqueta: conocimiento!){\n\t\t\t\t\t\t\tcrearNuevaAreaConocimiento(etiqueta: $etiqueta){\n\t\t\t\t\t\t\t\ttitulo\n\t\t\t\t\t\t\t\tdescripcion\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t}`,\n\t\t\t\tvariables: {\n\t\t\t\t\tetiqueta:{\n\t\t\t\t\t\tusuariopropietario: \"5ac248c98a3f74223f16895e\",\n\t\t\t\t\t\ttitulo: \"calculo1\",\n\t\t\t\t\t\tdescripcion: \"ejemplo de descripcion de calculo\",\n\t\t\t\t\t\tidioma: \"es\"\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}))\n\t\t\t.then(response => {\n\t\t\t\texpect(response.status).toBe(200);\n\t\t\t\texpect(response.success).toBe(true);\n\t\t\t\texpect(response.data.crearNuevaAreaConocimiento.titulo).toMatch(/calculo1/);\n\t\t\t\tdone();\n\t\t\t});\n\n\t\tself\n\t\t\t.test(JSON.stringify({\n\t\t\t\tquery: `mutation crearNuevaAreaConocimiento($etiqueta: conocimiento!){\n\t\t\t\t\t\t\tcrearNuevaAreaConocimiento(etiqueta: $etiqueta){\n\t\t\t\t\t\t\t\ttitulo\n\t\t\t\t\t\t\t\tdescripcion\n\t\t\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t}`,\n\t\t\t\tvariables: {\n\t\t\t\t\tetiqueta:{\n\t\t\t\t\t\tusuariopropietario: \"5ac24c758e4a6a23d4869ac7\",\n\t\t\t\t\t\ttitulo: \"geometria2\",\n\t\t\t\t\t\tdescripcion: \"ejemplo de descripcion de  geometria2\",\n\t\t\t\t\t\tidioma: \"es\"\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}))\n\t\t\t.then(response => {\n\t\t\t\texpect(response.status).toBe(200);\n\t\t\t\texpect(response.success).toBe(true);\n\t\t\t\texpect(response.data.crearNuevaAreaConocimiento.titulo).toMatch(/geometria/);\n\t\t\t\tdone();\n\t\t\t});\n\n\t});\n\tit(\"Deberia no poder editar un area de conocimiento que no he creado\", (done) => {\n\t\tself\n\t\t\t.test(JSON.stringify({\n\t\t\t\tquery: `mutation editarAreaConocimientoPregunta($id: String, $titulo: String, \n\t\t\t\t\t\t\t\t$descripcion: String, $idioma: String!, $correo: String){\n\t\t\t\t\t\t\teditarAreaConocimientoPregunta(id: $id, titulo: $titulo, \n\t\t\t\t\t\t\t\t\t\t\t\tdescripcion: $descripcion, idioma: $idioma, correo: $correo){\n\t\t\t\t\t\t\t\ttitulo\n\t\t\t\t\t\t\t\tdescripcion\n\t\t\t\t\t\t\t\tidioma\n\t\t\t\t\t\t\t\tusuariopropietario {\n\t\t\t\t\t\t\t\t\tnombre\n\t\t\t\t\t\t\t\t\tapellido\n\t\t\t\t\t\t\t\t\tcorreo\t\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t}`,\n\t\t\t\tvariables: {\n\t\t\t\t\tid: \"5ac79b6e371cfe28edf55975\",\n\t\t\t\t\ttitulo: \"ejemplo1\",\n\t\t\t\t\tdescripcion: \"ejemplo de descripcion\",\n\t\t\t\t\tidioma: \"en\",\n\t\t\t\t\tcorreo: \"kevinandresortizmerchan@gmail.com\"\n\t\t\t\t}\n\n\t\t\t}))\n\t\t\t.then(response => {\n\t\t\t\texpect(response.status).toBe(200);\n\t\t\t\texpect(response.success).toBe(false);\n\t\t\t\texpect(response.errors.length).toBe(1);\n\t\t\t\tdone();\n\t\t\t});\n\n\n\t});\n\tit(\"Deberia poder editar un area de conocimiento que he creado\", (done) => {\n\t\tself\n\t\t\t.test(JSON.stringify({\n\t\t\t\tquery: `mutation editarAreaConocimientoPregunta($id: String, $titulo: String, \n\t\t\t\t\t\t\t\t$descripcion: String, $idioma: String!, $correo: String){\n\t\t\t\t\t\t\teditarAreaConocimientoPregunta(id: $id, titulo: $titulo, \n\t\t\t\t\t\t\t\t\t\t\t\tdescripcion: $descripcion, idioma: $idioma, correo: $correo){\n\t\t\t\t\t\t\t\ttitulo\n\t\t\t\t\t\t\t\tdescripcion\n\t\t\t\t\t\t\t\tidioma\n\t\t\t\t\t\t\t\tusuariopropietario {\n\t\t\t\t\t\t\t\t\tnombre\n\t\t\t\t\t\t\t\t\tapellido\n\t\t\t\t\t\t\t\t\tcorreo\t\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t}`,\n\t\t\t\tvariables: {\n\t\t\t\t\tid: \"5ac79b6e371cfe28edf55975\",\n\t\t\t\t\ttitulo: \"ejemplo editada\",\n\t\t\t\t\tdescripcion: \"ejemplo de descripcioneditada\",\n\t\t\t\t\tidioma: \"en\",\n\t\t\t\t\tcorreo: \"kevinandresortizmerchan111@gmail.com\"\n\t\t\t\t}\n\n\t\t\t}))\n\t\t\t.then(response => {\n\t\t\t\texpect(response.status).toBe(200);\n\t\t\t\texpect(response.success).toBe(true);\n\t\t\t\tdone();\n\t\t\t});\n\n\n\n\t});\n\tit(\"Deberia no poder eliminar un area de conocimiento que no he creado\", (done) => {\n\t\tself\n\t\t\t.test(JSON.stringify({\n\t\t\t\tquery: `mutation eliminarAreaConocimientoPregunta($id: String, $idioma: String!, $correo: String){\n\t\t\t\t\t\t\teliminarAreaConocimientoPregunta(id: $id,  idioma: $idioma, correo: $correo){\n\t\t\t\t\t\t\t\ttitulo\n\t\t\t\t\t\t\t\tdescripcion\n\t\t\t\t\t\t\t\tidioma\n\t\t\t\t\t\t\t\tusuariopropietario {\n\t\t\t\t\t\t\t\t\tnombre\n\t\t\t\t\t\t\t\t\tapellido\n\t\t\t\t\t\t\t\t\tcorreo\t\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t}`,\n\t\t\t\tvariables: {\n\t\t\t\t\tid: \"5ac79b6e371cfe28edf55975\",\n\t\t\t\t\tidioma: \"en\",\n\t\t\t\t\tcorreo: \"kevinandresortizmerchan@gmail.com\"\n\t\t\t\t}\n\n\t\t\t}))\n\t\t\t.then(response => {\n\t\t\t\texpect(response.status).toBe(200);\n\t\t\t\texpect(response.success).toBe(false);\n\t\t\t\tdone();\n\t\t\t});\n\n\n\n\t});\n\n\tit(\"Deberia poder eliminar un area de conocimiento que he creado\", (done) => {\n\t\tself\n\t\t\t.test(JSON.stringify({\n\t\t\t\tquery: `mutation eliminarAreaConocimientoPregunta($id: String, $idioma: String!, $correo: String){\n\t\t\t\t\t\t\teliminarAreaConocimientoPregunta(id: $id,  idioma: $idioma, correo: $correo){\n\t\t\t\t\t\t\t\ttitulo\n\t\t\t\t\t\t\t\tdescripcion\n\t\t\t\t\t\t\t\tidioma\n\t\t\t\t\t\t\t\tusuariopropietario {\n\t\t\t\t\t\t\t\t\tnombre\n\t\t\t\t\t\t\t\t\tapellido\n\t\t\t\t\t\t\t\t\tcorreo\t\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t}`,\n\t\t\t\tvariables: {\n\t\t\t\t\tid: \"5ac79b6e371cfe28edf55976\",\n\t\t\t\t\tidioma: \"en\",\n\t\t\t\t\tcorreo: \"kevinandresortizmerchan@gmail.com\"\n\t\t\t\t}\n\n\t\t\t}))\n\t\t\t.then(response => {\n\t\t\t\texpect(response.status).toBe(200);\n\t\t\t\texpect(response.success).toBe(true);\n\t\t\t\texpect(response.data.eliminarAreaConocimientoPregunta.usuariopropietario.nombre).toMatch(/kevin/);\n\t\t\t\tdone();\n\t\t\t});\n\n\n\n\t});\n\n\n\n\n\n\n\n\n\tit(\"Listar todas las areas de conocimiento basadas en un idioma \", (done) => {\n\t\tself\n\t\t\t.test(JSON.stringify({\n\t\t\t\tquery: `query listadoAreaConocimiento($idioma: String){\n\t\t\t\t\t\t\tlistadoAreaConocimiento(idioma: $idioma){\n\t\t\t\t\t\t\t \t\t\t\t\ttitulo\n\t\t\t\t\t\t\t \t\t\t\t\tdescripcion\t\n\t\t\t\t\t\t\t \t\t\t\t\tusuariopropietario {\n\t\t\t\t\t\t\t \t\t\t\t\t\tnombre\n\t\t\t\t\t\t\t \t\t\t\t\t\tapellido\n\t\t\t\t\t\t\t \t\t\t\t\t\tcorreo\n\t\t\t\t\t\t\t \t\t\t\t\t}\n\t\t\t\t\t\t\t \t\t\t\t}\t\t\t\t\n\t\t\t\t\t\t}`,\n\t\t\t\tvariables: {\n\t\t\t\t\tidioma: \"es\"\n\t\t\t\t}\n\t\t\t}))\n\t\t\t.then(response => {\n\t\t\t\texpect(response.status).toBe(200);\n\t\t\t\texpect(response.success).toBe(true);\n\t\t\t\texpect(response.data.listadoAreaConocimiento.length).toBe(2);\n\t\t\t\tdone();\n\t\t\t});\n\t});\n\n\tit(\"filtrar todas las areas de conocimiento basadas en un idioma y por un caracter \", (done) => {\n\t\tself\n\t\t\t.test(JSON.stringify({\n\t\t\t\tquery: `query filtrarAreasConocimiento($idioma: String, $caracter: String){\n\t\t\t\t\t\t\tfiltrarAreasConocimiento(idioma: $idioma, caracter: $caracter){\n\t\t\t\t\t\t\t \t\t\t\t\ttitulo\n\t\t\t\t\t\t\t \t\t\t\t\tdescripcion\t\n\t\t\t\t\t\t\t \t\t\t\t\tusuariopropietario {\n\t\t\t\t\t\t\t \t\t\t\t\t\tnombre\n\t\t\t\t\t\t\t \t\t\t\t\t\tapellido\n\t\t\t\t\t\t\t \t\t\t\t\t\tcorreo\n\t\t\t\t\t\t\t \t\t\t\t\t}\n\t\t\t\t\t\t\t \t\t\t\t}\t\t\t\t\n\t\t\t\t\t\t}`,\n\t\t\t\tvariables: {\n\t\t\t\t\tcaracter: \"g\",\n\t\t\t\t\tidioma: \"es\"\n\t\t\t\t}\n\t\t\t}))\n\t\t\t.then(response => {\n\t\t\t\texpect(response.status).toBe(200);\n\t\t\t\texpect(response.success).toBe(true);\n\t\t\t\texpect(response.data.filtrarAreasConocimiento.length).toBe(1);\n\t\t\t\tdone();\n\t\t\t});\n\t\tself\n\t\t\t.test(JSON.stringify({\n\t\t\t\tquery: `query filtrarAreasConocimiento($idioma: String, $caracter: String){\n\t\t\t\t\t\t\tfiltrarAreasConocimiento(idioma: $idioma, caracter: $caracter){\n\t\t\t\t\t\t\t \t\t\t\t\ttitulo\n\t\t\t\t\t\t\t \t\t\t\t\tdescripcion\t\n\t\t\t\t\t\t\t \t\t\t\t\tusuariopropietario {\n\t\t\t\t\t\t\t \t\t\t\t\t\tnombre\n\t\t\t\t\t\t\t \t\t\t\t\t\tapellido\n\t\t\t\t\t\t\t \t\t\t\t\t\tcorreo\n\t\t\t\t\t\t\t \t\t\t\t\t}\n\t\t\t\t\t\t\t \t\t\t\t}\t\t\t\t\n\t\t\t\t\t\t}`,\n\t\t\t\tvariables: {\n\t\t\t\t\tcaracter: \"\",\n\t\t\t\t\tidioma: \"es\"\n\t\t\t\t}\n\t\t\t}))\n\t\t\t.then(response => {\n\t\t\t\texpect(response.status).toBe(200);\n\t\t\t\texpect(response.success).toBe(true);\n\t\t\t\texpect(response.data.filtrarAreasConocimiento.length).toBe(2);\n\t\t\t\tdone();\n\t\t\t});\n\t});\n\n});\n"]}