{"version":3,"sources":["../../resolvers/rol.js"],"names":["Query","verRolUsuario","parent","args","models","User","findById","id","then","rol","_id","usuario","roles","Acciones","catch","error","Mutation","editarRolUsuario","findByIdAndUpdate","$set","acciones","upsert","new"],"mappings":";;;;;kBAAe;AACdA,QAAM;AACLC,iBAAe,uBAACC,MAAD,EAASC,IAAT,QAA0B;AAAA,OAAVC,MAAU,QAAVA,MAAU;;AACxC,UAAOA,OAAOC,IAAP,CAAYC,QAAZ,CAAqBH,KAAKI,EAA1B,EACLC,IADK,CACA,mBAAS;AACd,QAAMC,MAAK;AACVC,UAAKC,QAAQD,GADH;AAEVD,UAAKE,QAAQC,KAAR,CAAc,CAAd,EAAiBH,GAFZ;AAGVI,eAAUF,QAAQC,KAAR,CAAc,CAAd,EAAiBC;AAHjB,KAAX;AAKA,WAAOJ,GAAP;AACA,IARK,EASLK,KATK,CASC,iBAAS;AACf,WAAOC,KAAP;AACA,IAXK,CAAP;AAaA;;AAfI,EADQ;AAmBdC,WAAS;AACRC,oBAAkB,0BAACf,MAAD,EAASC,IAAT,SAA0B;AAAA,OAAVC,MAAU,SAAVA,MAAU;;AAC3C,UAAOA,OAAOC,IAAP,CAAYa,iBAAZ,CAA8Bf,KAAKI,EAAnC,EAAuC,EAACY,MAAK,EAAC,eAAehB,KAAKM,GAArB,EAA0B,oBAAoBN,KAAKiB,QAAnD,EAAN,EAAvC,EACN,EAACC,QAAQ,IAAT,EAAeC,KAAK,IAApB,EADM,EAELd,IAFK,CAEA,mBAAW;AAChB,WAAOG,QAAQC,KAAf;AACA,IAJK,EAKLE,KALK,CAKC,iBAAS;AACf,QAAIC,KAAJ,EAAU;AACT,YAAOA,KAAP;AACA;AACD,IATK,CAAP;AAUA;AAZO;AAnBK,C","file":"rol.js","sourcesContent":["export default {\n\tQuery:{\n\t\tverRolUsuario: (parent, args, {models})=>{\n\t\t\treturn models.User.findById(args.id)\n\t\t\t\t.then(usuario=>{\n\t\t\t\t\tconst rol ={\n\t\t\t\t\t\t_id: usuario._id,\n\t\t\t\t\t\trol: usuario.roles[0].rol,\n\t\t\t\t\t\tAcciones: usuario.roles[0].Acciones\n\t\t\t\t\t};\n\t\t\t\t\treturn rol;\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\treturn error;\n\t\t\t\t});\n\n\t\t}\n\n\t},\n\tMutation:{\n\t\teditarRolUsuario: (parent, args, {models})=>{\n\t\t\treturn models.User.findByIdAndUpdate(args.id, {$set:{\"roles.0.rol\": args.rol, \"roles.0.Acciones\": args.acciones}},\n\t\t\t\t{upsert: true, new: true})\n\t\t\t\t.then(usuario => {\n\t\t\t\t\treturn usuario.roles;\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tif (error){\n\t\t\t\t\t\treturn error;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t}\n};"]}